L00A8   = $00A8
L00A9   = $00A9
L00AA   = $00AA
L00AB   = $00AB
L00AC   = $00AC
L00AD   = $00AD
L00AE   = $00AE
L00AF   = $00AF
L00D1   = $00D1
L00D4   = $00D4
L00D5   = $00D5
L00D6   = $00D6
L00D7   = $00D7
L00DA   = $00DA
L00DB   = $00DB
L00DC   = $00DC
L00DD   = $00DD
L00DE   = $00DE
L00DF   = $00DF
L00EF   = $00EF
L00F0   = $00F0
L00F1   = $00F1
L00F2   = $00F2
L00F3   = $00F3
L00F4   = $00F4
L00F8   = $00F8
L00F9   = $00F9
L00FF   = $00FF
L0100   = $0100
L020E   = $020E
L020F   = $020F
L0226   = $0226
L0227   = $0227
L022E   = $022E
L0230   = $0230
L0234   = $0234
L028D   = $028D
L0300   = $0300
L0301   = $0301
L0302   = $0302
L0303   = $0303
L0304   = $0304
L0305   = $0305
L0306   = $0306
L0307   = $0307
L0308   = $0308
L0309   = $0309
L030A   = $030A
L0314   = $0314
L0315   = $0315
L0316   = $0316
L0317   = $0317
L031A   = $031A
L031C   = $031C
L031D   = $031D
L031F   = $031F
L0320   = $0320
L0321   = $0321
L0322   = $0322
L0323   = $0323
L0324   = $0324
L0325   = $0325
L0326   = $0326
L0327   = $0327
L0328   = $0328
L0329   = $0329
L032A   = $032A
L032B   = $032B
L032C   = $032C
L032D   = $032D
L032E   = $032E
L032F   = $032F
L0330   = $0330
L0331   = $0331
L0332   = $0332
L0333   = $0333
L0334   = $0334
L0335   = $0335
L0336   = $0336
L0337   = $0337
L0338   = $0338
L0339   = $0339
L033A   = $033A
L033B   = $033B
L033C   = $033C
L033D   = $033D
L033E   = $033E
L033F   = $033F
L0340   = $0340
L0341   = $0341
L0342   = $0342
L0343   = $0343
L0344   = $0344
L0345   = $0345
L0346   = $0346
L0347   = $0347
L0348   = $0348
L0352   = $0352
L0353   = $0353
L0354   = $0354
L0355   = $0355
L0359   = $0359
L035A   = $035A
L035B   = $035B
L035D   = $035D
L035E   = $035E
L0360   = $0360
L0361   = $0361
L0362   = $0362
L0363   = $0363
L0B1E   = $0B1E
L0B3B   = $0B3B
L0C00   = $0C00
L0C01   = $0C01
L0C02   = $0C02
L0C03   = $0C03
L0C04   = $0C04
L0C05   = $0C05
L0C06   = $0C06
L0C07   = $0C07
L0C08   = $0C08
L0C10   = $0C10
L0C11   = $0C11
L0C12   = $0C12
L0C13   = $0C13
L0C14   = $0C14
L0C15   = $0C15
L0C16   = $0C16
L0C17   = $0C17
L0C18   = $0C18
L0C19   = $0C19
L0C1A   = $0C1A
L0C1B   = $0C1B
L0C1C   = $0C1C
L0C1D   = $0C1D
L0C1E   = $0C1E
L0C1F   = $0C1F
L0C20   = $0C20
L0C21   = $0C21
L0C22   = $0C22
L0C23   = $0C23
L0C24   = $0C24
L0C25   = $0C25
L0C26   = $0C26
L0C27   = $0C27
L0C2C   = $0C2C
L0C2D   = $0C2D
L0C2E   = $0C2E
L0C2F   = $0C2F
L0C30   = $0C30
L0C31   = $0C31
L0C32   = $0C32
L0C33   = $0C33
L0C34   = $0C34
L0C35   = $0C35
L0C36   = $0C36
L0C37   = $0C37
L0C38   = $0C38
L0C39   = $0C39
L0C3A   = $0C3A
L0C3B   = $0C3B
L0C3C   = $0C3C
L0C3D   = $0C3D
L0C3E   = $0C3E
L0C3F   = $0C3F
L0C40   = $0C40
L0C41   = $0C41
L0C42   = $0C42
L0C43   = $0C43
L0C44   = $0C44
L0C45   = $0C45
L0C46   = $0C46
L0C47   = $0C47
L0C48   = $0C48
L0C49   = $0C49
L0C4A   = $0C4A
L0C4B   = $0C4B
L0C4F   = $0C4F
L0C50   = $0C50
L0C51   = $0C51
L0C52   = $0C52
L0DD8   = $0DD8
L0DD9   = $0DD9
L0DDA   = $0DDA
L0DF0   = $0DF0
LC3FD   = $C3FD
LC412   = $C412
LC413   = $C413
LC414   = $C414
LC417   = $C417
LC41A   = $C41A
LCA79   = $CA79
LCDA6   = $CDA6
LD0BF   = $D0BF
LD0CD   = $D0CD
LD0D0   = $D0D0
LD0D9   = $D0D9
LD0FE   = $D0FE
LD34B   = $D34B
LD365   = $D365
LD36A   = $D36A
LD375   = $D375
LD3F4   = $D3F4
LD3FB   = $D3FB
LD403   = $D403
LD427   = $D427
LD62E   = $D62E
LD7ED   = $D7ED
LFE30   = $FE30
LFFCE   = $FFCE
LFFD7   = $FFD7
LFFDA   = $FFDA
LFFDD   = $FFDD
LFFE0   = $FFE0
osnewl  = $FFE7
oswrch  = $FFEE
osbyte  = $FFF4
LFFFF   = $FFFF

        org     $8000
.L8000
        EQUS    "RCM"

.header_service_entry
        JMP     L8039

.L8006
        EQUB    $82

.L8007
        EQUB    $26

.L8008
        EQUB    $01

.L8009
        EQUS    "Graphics Extension ROM 2.00",$0A,$0D,$00

        EQUS    "(C)1985 Acornsoft",$00

.L8039
        CMP     #$02
        BEQ     L8060

        CMP     #$07
        BNE     L8044

        JMP     L82FB

.L8044
        CMP     #$09
        BNE     L804B

        JMP     L8349

.L804B
        CMP     #$04
        BNE     L8052

        JMP     L8167

.L8052
        RTS

.L8053
        LDA     #$00
        STA     L0DF0,X
        TXA
        AND     #$02
        BNE     L8087

.L805D
        LDA     #$02
        RTS

.L8060
        STA     L0328
        STY     L032A
        JSR     L8943

        LDA     L00F9
        BEQ     L8076

        LDY     #$98
        LDA     (L00F8),Y
        BPL     L8076

        JSR     L8C81

.L8076
        LDY     L032A
        STY     L00F9
        LDA     L028D
        AND     #$03
        BNE     L8053

        LDA     L0DF0,X
        BEQ     L805D

.L8087
        TYA
        CMP     L0DF0,X
        BEQ     L80A7

        STA     L0DF0,X
        LDA     #$00
        LDY     #$52
        STA     (L00F8),Y
        LDY     #$4B
        STA     (L00F8),Y
        DEY
        STA     (L00F8),Y
        DEY
        LDA     #$80
        STA     (L00F8),Y
        DEY
        LDA     #$03
        STA     (L00F8),Y
.L80A7
        LDY     #$50
        LDA     (L00F8),Y
        STA     L00DC
        INY
        LDA     (L00F8),Y
        STA     L00DD
        INY
        LDA     (L00F8),Y
        BEQ     L80BF

        TAX
        LDA     #$00
        STA     (L00F8),Y
        JSR     LA685

.L80BF
        LDY     #$49
        LDA     (L00F8),Y
        AND     #$C0
        CMP     #$40
        BNE     L80E9

        ASL     A
        STA     (L00F8),Y
        INY
        LDA     (L00F8),Y
        BEQ     L80E9

        STA     L00DF
        LDA     #$00
        STA     L00DA
        STA     L00DC
        STA     L00DE
        CLC
        LDY     #$4E
        LDA     (L00F8),Y
        STA     L00DD
        ADC     #$02
        STA     L00DB
        JSR     L8D9F

.L80E9
        LDY     #$49
        LDA     (L00F8),Y
        ASL     A
        LDA     #$80
        ROL     A
        ROL     A
        ADC     L00F9
        LDY     #$4E
        STA     (L00F8),Y
        JSR     L8A6B

        LDY     #$47
.L80FD
        LDA     L8955,Y
        STA     (L00F8),Y
        DEY
        BPL     L80FD

        LDY     #$0E
        LDA     L020E
        PHA
        STA     (L00F8),Y
        INY
        LDA     L020F
        STA     (L00F8),Y
        LDY     #$2D
        STA     (L00F8),Y
        DEY
        PLA
        STA     (L00F8),Y
        LDY     #$1D
        LDA     L032A
        STA     (L00F8),Y
        LDY     #$37
        LDA     L00F4
        STA     (L00F8),Y
        JSR     L88F9

        LDA     #$39
        STA     L0226
        LDA     #$FF
        STA     L0227
        LDA     #$B5
        STA     L0DD8
        LDA     #$8C
        STA     L0DD9
        LDA     L00F4
        STA     L0DDA
        JSR     L8D0F

        LDA     #$00
        JSR     L8324

        CLC
        LDA     #$00
        STA     L020E
        LDA     L032A
        STA     L020F
        LDY     #$48
        ADC     (L00F8),Y
        LDY     #$4F
        STA     (L00F8),Y
        TAY
        LDX     L00F4
        LDA     L0328
        RTS

.L8167
        PHA
        TYA
        PHA
        JSR     L8943

        LDX     #$00
        STX     L00DC
        STY     L00DA
.L8173
        LDY     L00DA
        JSR     L8294

        BEQ     L818C

.L817A
        INX
        LDA     L820A,X
        BNE     L817A

        INC     L00DC
        INX
        LDA     L820A,X
        BNE     L8173

.L8188
        JMP     L8467

.L818B
        INY
.L818C
        LDA     (L00F2),Y
        CMP     #$20
        BEQ     L818B

        ASL     L00DC
        BEQ     L819D

        LDX     L00F4
        LDA     L0DF0,X
        BEQ     L8188

.L819D
        LDX     L00DC
        CPX     #$0A
        BCC     L81B9

        STY     L00DD
        JSR     L8943

        LDY     #$4A
        LDA     (L00F8),Y
        BEQ     L81DD

        LDY     L00DD
        CPX     #$18
        BCC     L81B9

        LDA     L0361
        BEQ     L81F2

.L81B9
        LDX     L00DC
        LDA     L8278,X
        STA     L00DA
        LDA     L8279,X
        STA     L00DB
        CLC
        TYA
        ADC     L00F2
        TAX
        LDY     L00F3
        BCC     L81CF

        INY
.L81CF
        JSR     L81DA

        LDX     L00F4
        PLA
        TAY
        PLA
        LDA     #$00
        RTS

.L81DA
        JMP     (L00DA)

.L81DD
        JSR     generate_error

        EQUS    $80,"No sprite memory",$00

.L81F2
        JSR     generate_error

        EQUS    $81,"Not a graphics mode",$00

.L820A
        EQUS    "gxr",$00

        EQUS    "flood",$00

        EQUS    "noflood",$00

        EQUS    "nogxr",$00

        EQUS    "sspace",$00

        EQUS    "schoose",$00

        EQUS    "sdelete",$00

        EQUS    "sload",$00

        EQUS    "smerge",$00

        EQUS    "snew",$00

        EQUS    "srenumber",$00

        EQUS    "ssave",$00

        EQUS    "sedit",$00

        EQUS    "sget",$00

        EQUS    $00

        EQUS    "graphics",$00

        EQUS    "sprites",$00

.L8278
        EQUW    L89C7
        EQUW    L89F6
        EQUW    L8A0D
        EQUW    L89ED
        EQUW    L8A45
        EQUW    LA762
        EQUW    LAAAA
        EQUW    LA64C
        EQUW    LA66A
        EQUW    L8A65
        EQUW    LA7AB
        EQUW    LA5B1
        EQUW    LAB71
        EQUW    LA416

        L8279   = L8278+1
.L8294
        LDA     (L00F2),Y
        INY
        CMP     #$2E
        BEQ     L82A8

        ORA     #$20
        CMP     L820A,X
        BNE     L82A8

        INX
        LDA     L820A,X
        BNE     L8294

.L82A8
        RTS

.L82A9
        LDA     L0DF0,X
        BNE     L82B5

.L82AE
        STA     L00F0
        STA     L00F1
        TAX
        TAY
        RTS

.L82B5
        JSR     L8943

        LDA     L00F1
        CMP     #$41
        BNE     L82DC

        LDY     #$94
        LDA     (L00F8),Y
        AND     #$3F
        STA     L00F0
        LDY     #$49
        LDA     (L00F8),Y
        AND     #$80
        SEC
        ROR     A
        ORA     L00F0
        TAX
        INY
        LDA     (L00F8),Y
        TAY
.L82D5
        STX     L00F0
        STY     L00F1
        LDA     #$00
        RTS

.L82DC
        LDY     #$4C
        LDA     (L00F8),Y
        STA     L00DA
        INY
        LDA     (L00F8),Y
        STA     L00DB
        ORA     L00DA
        BEQ     L82AE

        LDY     #$00
        LDA     (L00DA),Y
        TAX
        INY
        LDA     (L00DA),Y
        TAY
        INX
        INY
        BNE     L82D5

.L82F8
        LDA     #$07
        RTS

.L82FB
        LDA     L00EF
        CMP     #$A3
        BNE     L82F8

        LDA     L00F0
        CMP     #$F2
        BNE     L82F8

        LDA     L00F1
        CMP     #$41
        BEQ     L82A9

        CMP     #$42
        BEQ     L82A9

        BCS     L82F8

        LDA     L0DF0,X
        BEQ     L82F8

        LDA     L00F1
        JSR     L8324

        LDX     L00F0
        LDY     L00F1
        LDA     #$00
        RTS

.L8324
        JSR     L8943

        BNE     L8337

        LDY     #$8C
        LDX     #$07
        LDA     #$AA
.L832F
        STA     (L00F8),Y
        INY
        DEX
        BPL     L832F

        LDA     #$08
.L8337
        LDY     #$94
        STA     (L00F8),Y
        INY
        STA     (L00F8),Y
        INY
        LDA     #$80
        STA     (L00F8),Y
        INY
        LDA     #$00
        STA     (L00F8),Y
        RTS

.L8349
        PHA
        TYA
        PHA
        JSR     L8943

        JSR     osnewl

        LDX     #$00
.L8354
        LDA     L8009,X
        JSR     oswrch

        INX
        CMP     #$00
        BNE     L8354

        LDA     (L00F2),Y
        CMP     #$0D
        BNE     L8383

        JSR     print_inline_counted

        EQUB    $17

        EQUS    "  Graphics",$0A,$0D,"  Sprites",$0A,$0D

.L8380
        JMP     L8467

.L8383
        TYA
        PHA
        LDX     #$5D
        JSR     L8294

        BNE     L83D9

        LDA     L00F9
        BNE     L83A0

        JSR     print_inline_counted

        EQUB    $09

        EQUS    "  GXR Off"

.L839D
        JMP     L83CC

.L83A0
        JSR     print_inline_counted

        EQUB    $10

        EQUS    "  GXR On, Flood "

.L83B4
        LDY     #$49
        LDA     (L00F8),Y
        AND     #$C0
        BNE     L83C6

        JSR     print_inline_counted

        EQUB    $03

        EQUS    "Off"

.L83C3
        JMP     L83CC

.L83C6
        JSR     print_inline_counted

        EQUB    $02

        EQUS    "On"

.L83CC
        JSR     osnewl

        JSR     osnewl

        LDX     #$6D
        LDY     #$84
        JSR     L88C8

.L83D9
        PLA
        TAY
        LDX     #$66
        JSR     L8294

        BEQ     L83E5

        JMP     L8467

.L83E5
        LDA     L00F9
        BEQ     L845D

        JSR     osnewl

        LDX     #$2D
        LDY     #$88
        JSR     L88C8

        LDY     #$4A
        LDA     (L00F8),Y
        PHA
        LDX     #$00
        JSR     LB99E

        JSR     print_inline_counted

        EQUB    $19

        EQUS    " page(s) sprite w/s",$0D,$0A,"    "

.L841A
        PLA
        BEQ     L845D

        JSR     LB818

        LDA     L00DE
        LDX     L00DF
        JSR     LB9A0

        JSR     print_inline_counted

        EQUB    $13

        EQUS    " byte(s) free",$0D,$0A,"    "

.L843E
        LDY     #$4B
        LDA     (L00F8),Y
        JSR     LB99E

        JSR     print_inline_counted

        EQUB    $14

        EQUS    " sprite(s) defined",$0D,$0A

.L845D
        JSR     osnewl

        LDX     #$3E
        LDY     #$88
        JSR     L88C8

.L8467
        LDX     L00F4
        PLA
        TAY
        PLA
        RTS

        EQUS    "  GXR commands",$0D,"GXR",$0D,"NOGXR",$0D,"FLOOD",$0D,"NOFLOOD",$0D,$0D,$08,$08,"Plot codes",$0D,"00 Line",$0D,"08 "
        EQUS    "Line (LPO)",$0D,"10 Dot-dash (R)",$0D,"18 Dot-dash (R,LPO)",$0D,"20 Line (FPO)",$0D,"28 "
        EQUS    "Line (BEO)",$0D,"30 Dot-dash (C,FPO)",$0D,"38 Dot-dash (C,BEO)",$0D,$0D,"40 Point",$0D,"48 "
        EQUS    "Fill L&R to Non-bg",$0D,"50 Triangle",$0D,"58 Fill R to bg",$0D,"60 Rectangle",$0D,"68 F"
        EQUS    "ill L&R to fg",$0D,"70 Parallelogram",$0D,"78 Fill R to Non-fg",$0D,$0D,"80 Flood to "
        EQUS    "Non-bg",$0D,"88 Flood to fg",$0D,"90 Circle outline",$0D,"98 Circle fill",$0D,"A0 Circul"
        EQUS    "ar arc",$0D,"A8 Circular segment",$0D,"B0 Circular sector",$0D,"B8 Block copy/move"
        EQUS    $0D,$0D,"C0 Ellipse outline",$0D,"C8 Ellipse fill",$0D,"D0",$0D,"D8",$0D,"E0",$0D,"E8 Sprite plot",$0D,"F0",$0D
        EQUS    "F8",$0D,$0D,$08,$08,"Set dot-dash repeat length",$0D,"*FX 163,242,k : k=0,1-64",$0D,$0D,$08,$08,"Def"
        EQUS    "ine patterns",$0D,"VDU 23,k,b,b,b,b,b,b,b,b with k=",$0D,"2,3,4,5 : full set"
        EQUS    "ting",$0D,"6       : dot-dash line",$0D,"11      : default setting",$0D,"12,13,14,"
        EQUS    "15 : simple setting",$0D,$0D,"VDU 23,27,0,n,0;0;0;",$0D,"  Choose sprite n for "
        EQUS    "plotting",$0D,"VDU 23,27,1,n,0;0;0;",$0D,"  Get sprite n from screen",$0D,$0D,$08,$08,"Sele"
        EQUS    "ct colour pattern",$0D,"GCOL a,c",$0D,"a<16 solid colour c",$0D,"a=16-21 : pattern"
        EQUS    " 1",$0D,"a=32-37 : pattern 2",$0D,"a=48-53 : pattern 3",$0D,"a=64-69 : pattern 4",$0D,$00

        EQUS    "  Sprite status",$0D,$00

        EQUS    "  Sprite commands",$0D,"SSPACE n",$0D,"SCHOOSE n",$0D,"SDELETE n",$0D,"SEDIT n",$0D,"SEDIT n,m"
        EQUS    $0D,"SGET n",$0D,"SLOAD filename",$0D,"SMERGE filename",$0D,"SNEW",$0D,"SRENUMBER n,m",$0D,"SSAVE "
        EQUS    "filename",$0D,$00

.L88C8
        STX     L00DA
        STY     L00DB
        LDY     #$00
.L88CE
        LDA     L00DA
        PHA
        LDA     L00DB
        PHA
        LDA     (L00DA),Y
        CMP     #$0D
        BNE     L88E8

        JSR     osnewl

        LDA     #$20
        JSR     oswrch

        JSR     oswrch

        JSR     oswrch

.L88E8
        JSR     oswrch

        PLA
        STA     L00DB
        PLA
        STA     L00DA
        JSR     LB7B7

        LDA     (L00DA),Y
        BNE     L88CE

        RTS

.L88F9
        TYA
        PHA
        JSR     L8943

        LDY     #$67
        LDA     L0226
        PHA
        LDA     (L00F8),Y
        STA     L0226
        PLA
        STA     (L00F8),Y
        INY
        LDA     L0227
        PHA
        LDA     (L00F8),Y
        STA     L0227
        PLA
        STA     (L00F8),Y
        INY
        LDA     L0DD8
        PHA
        LDA     (L00F8),Y
        STA     L0DD8
        PLA
        STA     (L00F8),Y
        INY
        LDA     L0DD9
        PHA
        LDA     (L00F8),Y
        STA     L0DD9
        PLA
        STA     (L00F8),Y
        INY
        LDA     L0DDA
        PHA
        LDA     (L00F8),Y
        STA     L0DDA
        PLA
        STA     (L00F8),Y
        PLA
        TAY
        RTS

.L8943
        PHA
        TXA
        PHA
        LDX     L00F4
        LDA     L0DF0,X
        STA     L00F9
        LDA     #$00
        STA     L00F8
        PLA
        TAX
        PLA
        RTS

.L8955
        PHA
        LDA     L035D
        CMP     #$39
        BEQ     L8965

        CMP     #$EE
        BEQ     L8978

.L8961
        PLA
        JMP     LFFFF

.L8965
        LDA     L035E
        CMP     #$C9
        BNE     L8961

        LDA     #$31
        STA     L035D
        LDA     #$FF
        STA     L035E
        BNE     L8961

.L8978
        LDA     L035E
        CMP     #$CA
        BNE     L8961

        PLA
        JSR     LFFFF

        SEC
        BCS     L8987

        CLC
.L8987
        PHA
        LDA     L00F4
        PHA
        LDA     #$FF
        STA     L00F4
        STA     LFE30
        JSR     L8BCF

        PLA
        STA     L00F4
        STA     LFE30
        PLA
        RTS

.L899D
        JSR     print_inline_counted

        EQUB    $1F

        EQUS    "GXR 2.00 is not compatible with"

.L89C0
        LDA     #$00
        LDX     #$00
        JMP     osbyte

.L89C7
        LDA     #$81
        LDX     #$00
        LDY     #$FF
        JSR     osbyte

        CPX     #$FB
        BNE     L899D

        LDX     L00F4
        LDA     #$01
        STA     L0DF0,X
.L89DB
        JSR     print_inline_counted

        EQUB    $0B

        EQUS    "press BREAK"

.L89EA
        JMP     L89EA

.L89ED
        LDX     L00F4
        LDA     #$00
        STA     L0DF0,X
        BEQ     L89DB

.L89F6
        LDY     #$49
        LDA     (L00F8),Y
        AND     #$C0
        BNE     L8A0C

        LDA     #$40
        STA     (L00F8),Y
        DEY
        CLC
        LDA     #$02
        ADC     (L00F8),Y
        STA     (L00F8),Y
        BNE     L89DB

.L8A0C
        RTS

.L8A0D
        LDY     #$49
        LDA     (L00F8),Y
        AND     #$C0
        BEQ     L8A0C

        LDA     #$00
        STA     (L00F8),Y
        LDY     #$48
        SEC
        LDA     (L00F8),Y
        SBC     #$02
        STA     (L00F8),Y
        SEC
        LDY     #$4E
        LDA     (L00F8),Y
        STA     L00DD
        SBC     #$02
        STA     (L00F8),Y
        STA     L00DB
        LDY     #$4A
        LDA     (L00F8),Y
        BEQ     L89DB

        STA     L00DF
        LDA     #$00
        STA     L00DA
        STA     L00DC
        STA     L00DE
        JSR     L8D84

        JMP     L89DB

.L8A45
        JSR     LB865

        LDY     #$4A
        CMP     (L00F8),Y
        STA     (L00F8),Y
        PHP
        DEY
        LDA     (L00F8),Y
        ASL     A
        LDA     #$80
        ROL     A
        ROL     A
        ADC     L00DE
        DEY
        STA     (L00F8),Y
        PLP
        BCS     L8A62

        JSR     L8A65

.L8A62
        JMP     L89DB

.L8A65
        LDY     #$4B
        LDA     #$00
        STA     (L00F8),Y
.L8A6B
        LDY     #$4C
        LDA     #$00
        STA     (L00F8),Y
        INY
        STA     (L00F8),Y
        RTS

.generate_error
        PLA
        STA     L00DA
        PLA
        STA     L00DB
        LDY     #$00
.L8A7D
        INY
        LDA     (L00DA),Y
        STA     L0100,Y
        BNE     L8A7D

        STA     L0100
.L8A88
        JMP     L0100

L8A8A = L8A88+2
        EQUB    $FF,$55,$FF,$77,$33,$11,$FF,$7F
        EQUB    $3F,$1F,$0F,$07,$03

.L8A98
        EQUB    $01,$AA,$00,$AA,$00,$AA,$00,$AA
        EQUB    $00,$AA,$55,$AA,$55,$AA,$55,$AA
        EQUB    $55,$FF,$55,$FF,$55,$FF,$55,$FF
        EQUB    $55,$11,$22,$44,$88,$11,$22,$44
        EQUB    $88,$A5,$0F,$A5,$0F,$A5,$0F,$A5
        EQUB    $0F,$A5,$5A,$A5,$5A,$A5,$5A,$A5
        EQUB    $5A,$F0,$5A,$F0,$5A,$F0,$5A,$F0
        EQUB    $5A,$F5,$FA,$F5,$FA,$F5,$FA,$F5
        EQUB    $FA,$0B,$07,$0B,$07,$0B,$07,$0B
        EQUB    $07,$23,$13,$23,$13,$23,$13,$23
        EQUB    $13,$0E,$0D,$0E,$0D,$0E,$0D,$0E
        EQUB    $0D,$1F,$2F,$1F,$2F,$1F,$2F,$1F
        EQUB    $2F,$CC,$00,$CC,$00,$CC,$00,$CC
        EQUB    $00,$CC,$33,$CC,$33,$CC,$33,$CC
        EQUB    $33,$FF,$33,$FF,$33,$FF,$33,$FF
        EQUB    $33,$03,$0C,$30,$C0,$03,$0C,$30
        EQUB    $C0

.L8B19
        EQUB    $02,$00,$01,$FF,$00,$01,$FF,$FF

.L8B21
        LDA     L0300,Y
        STA     L0314
        LDA     L0301,Y
        STA     L0315
        LDA     L0302,X
        STA     L0316
        LDA     L0303,X
        STA     L0317
        LDY     #$14
.L8B3B
        STY     L00DE
        LDA     L0302,X
        EOR     #$07
        AND     #$07
        TAY
        JSR     L8B5E

        LDY     L00DE
        JMP     LD62E

.L8B4D
        JSR     L8B56

        BNE     L8B55

        JMP     LD0BF

.L8B55
        RTS

.L8B56
        JSR     LCA79

        BNE     L8B55

.L8B5B
        JSR     LD7ED

.L8B5E
        LDA     L0C00,Y
        PHA
        ORA     L00A8
        EOR     L00A9
        STA     L00D4
        PLA
        ORA     L00AA
        EOR     L00AB
        STA     L00D5
        LDA     #$00
        RTS

.L8B72
        EQUB    $EC

.L8B73
        EQUB    $9A,$EC,$9A,$EC,$9A,$EC,$9A,$EC
        EQUB    $9A,$EC,$9A,$EC,$9A,$EC,$9A,$D3
        EQUB    $8D,$28,$9F,$62,$8E,$4C,$9F,$DB
        EQUB    $8D,$46,$9F,$5C,$8E,$51,$9F,$E7
        EQUB    $9C,$E1,$9C,$45,$90,$96,$90,$71
        EQUB    $92,$E3,$93,$EB,$92,$7E,$9F,$FE
        EQUB    $B9,$81,$BA,$B2,$8B,$B2,$8B,$B2
        EQUB    $8B,$61,$A2,$B2,$8B,$B2,$8B,$20
        EQUB    $81,$8C

.L8BB5
        LDA     L031F
        CLC
        JMP     (L0226)

.L8BBC
        PHA
        TXA
        PHA
        TYA
        PHA
        JSR     L8D0F

        LDA     #$00
        JSR     L8324

        PLA
        TAY
        PLA
        TAX
        PLA
        RTS

.L8BCF
        JSR     L8943

        BCS     L8BBC

        LDX     L0361
        BEQ     L8BB5

        LDA     #$99
        STA     L00F8
        LDY     #$66
.L8BDF
        LDA     L0C00,Y
        STA     (L00F8),Y
        DEY
        BPL     L8BDF

        INY
        STY     L00F8
        LDY     #$98
        LDA     #$80
        STA     (L00F8),Y
        LDX     #$20
        JSR     LD0FE

        LDY     #$05
        LDA     L031F
        AND     #$C3
        BEQ     L8C70

        AND     #$03
        BEQ     L8C0E

        DEY
        LSR     A
        BCC     L8C0E

        TAX
        LDY     L035B,X
        LDA     L0359,X
        TAX
.L8C0E
        TYA
        PHA
        AND     #$0F
        TAY
        LDA     LC413,Y
        STA     L00A8
        LDA     LC414,Y
        STA     L00A9
        LDA     LC412,Y
        STA     L00AA
        LDA     LC417,Y
        STA     L00AB
        PLA
        AND     #$F0
        LSR     A
        BNE     L8C47

        STX     L0C00
        STX     L0C01
        STX     L0C02
        STX     L0C03
        STX     L0C04
        STX     L0C05
        STX     L0C06
        STX     L0C07
        BEQ     L8C58

.L8C47
        LDX     #$07
        TAY
        DEY
        LDA     #$6C
        STA     L00F8
.L8C4F
        LDA     (L00F8),Y
        STA     L0C00,X
        DEY
        DEX
        BPL     L8C4F

.L8C58
        LDA     L031F
        AND     #$F8
        LSR     A
        LSR     A
        TAX
        LDA     L8B72,X
        STA     L00DA
        LDA     L8B73,X
        STA     L00DB
        JSR     L8943

        JMP     (L00DA)

.L8C70
        LDX     #$03
.L8C72
        LDA     L0324,X
        STA     L0314,X
        LDA     L0320,X
        STA     L0324,X
        DEX
        BPL     L8C72

.L8C81
        JSR     L8943

        LDA     #$99
        STA     L00F8
        LDY     #$66
.L8C8A
        LDA     (L00F8),Y
        STA     L0C00,Y
        DEY
        BPL     L8C8A

        INY
        STY     L00F8
        TYA
        LDY     #$98
        STA     (L00F8),Y
        RTS

.L8C9B
        LDA     L031C
        BNE     L8CA6

        LDA     L031D
        JMP     LA765

.L8CA6
        CMP     #$01
        BNE     L8CB0

        LDA     L031D
        JMP     LA435

.L8CB0
        LDA     #$1B
        JMP     L8CD3

        JSR     L8943

        BCC     L8CD4

        LDX     L0361
        BEQ     L8CD3

        CMP     #$06
        BEQ     L8CE7

        BCC     L8CF9

        CMP     #$0B
        BCC     L8CD3

        BEQ     L8D0F

        CMP     #$10
        BCC     L8D32

        CMP     #$1B
        BEQ     L8C9B

.L8CD3
        SEC
.L8CD4
        PHP
        PHA
        JSR     L88F9

        PLA
        PLP
        JSR     L8CE4

        PHA
        JSR     L88F9

        PLA
        RTS

.L8CE4
        JMP     (L0226)

.L8CE7
        PHA
        LDY     #$94
        LDA     (L00F8),Y
        INY
        STA     (L00F8),Y
        INY
        LDA     #$80
        STA     (L00F8),Y
        INY
        ASL     A
        STA     (L00F8),Y
        PLA
.L8CF9
        SEC
        SBC     #$01
        ASL     A
        ASL     A
        ASL     A
        ADC     #$6C
        TAY
        DEY
        LDX     #$07
.L8D05
        LDA     L031C,X
        STA     (L00F8),Y
        DEY
        DEX
        BPL     L8D05

        RTS

.L8D0F
        LDA     L0355
        BNE     L8D17

        SEC
        SBC     #$01
.L8D17
        AND     #$03
        CLC
        ADC     #$01
        ASL     A
        ASL     A
        ASL     A
        ASL     A
        ASL     A
        TAX
        LDY     #$20
        LDA     #$6B
        STA     L00F8
.L8D28
        LDA     L8A98,X
        STA     (L00F8),Y
        DEX
        DEY
        BNE     L8D28

        RTS

.L8D32
        SBC     #$0B
        ASL     A
        ASL     A
        ASL     A
        ADC     #$03
        PHA
        LDX     #$07
.L8D3C
        LDA     L031C,X
        AND     L0360
        STA     L00DA
        LDA     L0360
        AND     #$07
        ADC     L00DA
        TAY
        LDA     LC41A,Y
        STA     L031C,X
        DEX
        BPL     L8D3C

        LDA     #$55
        LDX     L0355
        BNE     L8D5E

        LDA     #$33
.L8D5E
        STA     L00DA
        PLA
        CLC
        ADC     #$6C
        TAY
        LDX     #$07
.L8D67
        LDA     L031C,X
        DEX
        EOR     L031C,X
        AND     L00DA
        EOR     L031C,X
        STA     (L00F8),Y
        INY
        INY
        INY
        INY
        STA     (L00F8),Y
        DEY
        DEY
        DEY
        DEY
        DEY
        DEX
        BPL     L8D67

        RTS

.L8D84
        LDY     #$00
.L8D86
        LDA     (L00DC),Y
        STA     (L00DA),Y
        JSR     LB7B7

        JSR     LB7BE

        LDA     L00DE
        BNE     L8D96

        DEC     L00DF
.L8D96
        DEC     L00DE
        LDA     L00DE
        ORA     L00DF
        BNE     L8D86

        RTS

.L8D9F
        CLC
        LDA     L00DE
        ADC     L00DA
        STA     L00DA
        LDA     L00DF
        ADC     L00DB
        STA     L00DB
        LDA     L00DE
        ADC     L00DC
        STA     L00DC
        LDA     L00DF
        ADC     L00DD
        STA     L00DD
        LDY     #$00
.L8DBA
        JSR     LB7C5

        JSR     LB7CE

        LDA     (L00DC),Y
        STA     (L00DA),Y
        LDA     L00DE
        BNE     L8DCA

        DEC     L00DF
.L8DCA
        DEC     L00DE
        LDA     L00DE
        ORA     L00DF
        BNE     L8DBA

        RTS

        LDX     #$20
        JSR     L8B4D

        JMP     L8C70

        LDX     #$20
        JSR     L8E0E

        JSR     L8DE6

        JMP     L8C70

.L8DE6
        LDX     #$2A
        LDY     #$2E
        JSR     LCDA6

.L8DED
        LDX     #$28
        LDY     #$2C
        JSR     L8B21

        LDA     L032A
        BNE     L8DFC

        DEC     L032B
.L8DFC
        DEC     L032A
        LDA     L032A
        CMP     L032E
        LDA     L032B
        SBC     L032F
        BPL     L8DED

        RTS

.L8E0E
        LDY     #$24
        JSR     L9019

        TYA
        PHA
        TXA
        PHA
        JSR     L902E

        PLA
        STA     L0C16
        TYA
        PHA
        LDA     L0C16
        LDY     #$28
        JSR     L8E2B

        PLA
        TAX
        PLA
.L8E2B
        PHA
        JSR     LD3FB

        PLA
        TAX
        INX
        INX
        JMP     LD3FB

.L8E36
        LDA     L035B,X
        AND     #$F0
        LSR     A
        BNE     L8E4A

        LDY     #$07
        LDA     L0359,X
.L8E43
        STA     L0C17,Y
        DEY
        BPL     L8E43

        RTS

.L8E4A
        ADC     #$6B
        TAY
        JSR     L8943

        LDX     #$07
.L8E52
        LDA     (L00F8),Y
        STA     L0C17,X
        DEY
        DEX
        BPL     L8E52

        RTS

        JSR     L8E68

        JMP     L8C70

        JSR     L8EE2

        JMP     L8C70

.L8E68
        LDX     #$01
        LDY     #$00
.L8E6C
        SEC
        LDA     L0320,Y
        SBC     L0324,Y
        STA     L0328,Y
        LDA     L0321,Y
        SBC     L0325,Y
        STA     L0329,Y
        CLC
        LDA     L0328,Y
        ADC     L0314,Y
        STA     L0328,Y
        LDA     L0329,Y
        ADC     L0315,Y
        STA     L0329,Y
        LDY     #$02
        DEX
        BPL     L8E6C

        LDY     #$14
        LDX     #$24
        JSR     L9019

        STX     L0C17
        LDX     #$20
        JSR     L9019

        STX     L0C18
        LDX     #$28
        JSR     L9019

        STY     L0C1A
        LDY     L0C18
        JSR     L9019

        STY     L0C19
        LDY     L0C17
        JSR     L8EFE

        LDA     L0C1A
        STA     L0C14
        LDX     #$34
        JSR     L9873

        LDY     L0C15
        JSR     L8F48

        LDY     L0C19
        LDA     L0C1A
        STA     L0C15
        LDX     #$3F
        JSR     L8F42

        JMP     L8EF7

.L8EE2
        LDY     #$14
        LDX     #$24
        JSR     L9019

        STY     L0C19
        LDY     #$20
        JSR     L8EFE

        LDA     L0C19
        JSR     L8F3D

.L8EF7
        LDY     #$2C
        LDX     #$30
        JMP     L8B3B

.L8EFE
        JSR     L9019

        STX     L0C17
        LDX     L0C19
        JSR     L9019

        STY     L0C19
        STX     L0C18
        LDY     L0C17
        LDX     #$FC
.L8F15
        LDA     L0300,Y
        STA     L0230,X
        STA     L0234,X
        INY
        INX
        BNE     L8F15

        LDY     L0C17
        LDA     L0C19
        STA     L0C15
        LDX     #$3F
        JSR     L9873

        LDY     L0C17
        LDA     L0C18
        JSR     L8F3D

        LDY     L0C18
        RTS

.L8F3D
        STA     L0C14
        LDX     #$34
.L8F42
        JSR     L9873

        LDY     L0C14
.L8F48
        STY     L00DB
.L8F4A
        LDA     L0302,Y
        CMP     L032E
        BNE     L8F5A

        LDA     L0303,Y
        CMP     L032F
        BEQ     L8FA5

.L8F5A
        LDX     #$34
        JSR     L8FDE

        LDX     #$3F
        JSR     L8FDE

        JSR     L8EF7

        LDX     #$34
        JSR     L9930

        LDX     #$3F
        JSR     L9930

        LDX     #$34
        LDY     #$3F
        JSR     L902E

        STA     L0C16
        TXA
        PHA
        LDA     L0C16
        LDX     #$FC
.L8F82
        LDA     L0300,Y
        STA     L0234,X
        INY
        INX
        BNE     L8F82

        STA     L0C16
        PLA
        TAX
        LDA     L0C16
        LDY     #$FC
.L8F96
        LDA     L0300,X
        STA     L0230,Y
        INX
        INY
        BNE     L8F96

        LDY     L00DB
        JMP     L8F4A

.L8FA5
        LDA     #$34
        LDX     L0C14
        JSR     L8FB4

        LDY     L00DB
        LDA     #$3F
        LDX     L0C15
.L8FB4
        STA     L00DE
        LDA     L0302,X
        CMP     L0302,Y
        BNE     L8FC6

        LDA     L0303,X
        CMP     L0303,Y
        BEQ     L8FE3

.L8FC6
        LDX     L00DE
        JMP     L8FDE

.L8FCB
        STA     L0C16
        TXA
        PHA
        LDA     L0C16
        JSR     L9930

        STA     L0C16
        PLA
        TAX
        LDA     L0C16
.L8FDE
        LDA     L0309,X
        BPL     L8FCB

.L8FE3
        LDA     L0300,X
        CMP     L032C
        LDA     L0301,X
        SBC     L032D
        BPL     L8FFE

        LDA     L0300,X
        STA     L032C
        LDA     L0301,X
        STA     L032D
        RTS

.L8FFE
        LDA     L0330
        CMP     L0300,X
        LDA     L0331
        SBC     L0301,X
        BPL     L9018

        LDA     L0300,X
        STA     L0330
        LDA     L0301,X
        STA     L0331
.L9018
        RTS

.L9019
        SEC
        LDA     L0302,Y
        SBC     L0302,X
        STA     L00DE
        LDA     L0303,Y
        SBC     L0303,X
        BMI     L903C

        ORA     L00DE
        BNE     L9044

.L902E
        LDA     L0300,Y
        CMP     L0300,X
        LDA     L0301,Y
        SBC     L0301,X
        BPL     L9044

.L903C
        TXA
        STY     L0C16
        LDX     L0C16
        TAY
.L9044
        RTS

        LDX     #$24
        LDY     #$14
        JSR     LD403

        LDY     #$14
        LDX     #$20
        JSR     L90DD

        JSR     L914F

.L9056
        JSR     L94C7

        JSR     L94EE

        LDX     #$30
        JSR     L8B4D

        LDA     L0C30
        ORA     L0C31
        BEQ     L906E

        LDX     #$2C
        JSR     L8B4D

.L906E
        LDA     L0C32
        ORA     L0C33
        BEQ     L908B

        JSR     L9508

        LDX     #$30
        JSR     L8B4D

        LDA     L0C30
        ORA     L0C31
        BEQ     L908B

        LDX     #$2C
        JSR     L8B4D

.L908B
        JSR     L91DC

        LDA     L0C31
        BPL     L9056

        JMP     L8C70

        LDX     #$24
        LDY     #$14
        JSR     LD403

        LDY     #$14
        LDX     #$20
        JSR     L90DD

        JSR     L914F

.L90A7
        JSR     L94C7

        JSR     L94EE

        LDY     #$30
        LDX     #$2C
        JSR     L8B3B

        LDA     L0C32
        ORA     L0C33
        BEQ     L90C6

        JSR     L9508

        LDY     #$30
        LDX     #$2C
        JSR     L8B3B

.L90C6
        LDA     #$00
        STA     L0C34
.L90CB
        JSR     L91DC

        LDA     L0C31
        BMI     L90DA

        LDA     L0C34
        BEQ     L90CB

        BNE     L90A7

.L90DA
        JMP     L8C70

.L90DD
        STX     L00DE
        STY     L00DF
        SEC
        LDA     L0300,X
        SBC     L0300,Y
        STA     L0C17
        LDA     L0301,X
        SBC     L0301,Y
        STA     L0C18
        LDX     L0355
        LDA     L8B19,X
        STA     L0C36
        AND     #$01
        BEQ     L9107

        ASL     L0C17
        ROL     L0C18
.L9107
        JSR     L9522

        LDX     #$03
.L910C
        LDA     L0C1A,X
        STA     L0C37,X
        DEX
        BPL     L910C

        LDX     L00DE
        LDY     L00DF
        SEC
        LDA     L0302,X
        SBC     L0302,Y
        STA     L0C17
        LDA     L0303,X
        SBC     L0303,Y
        STA     L0C18
        LDA     L0C36
        AND     #$02
        BEQ     L9139

        ASL     L0C17
        ROL     L0C18
.L9139
        JSR     L9522

        CLC
        LDX     #$FC
.L913F
        LDA     L0B3B,X
        ADC     L0B1E,X
        STA     L0B3B,X
        STA     L0B1E,X
        INX
        BMI     L913F

        RTS

.L914F
        JSR     LBF0A

        CLC
        LDA     L0C17
        ADC     L0C37
        STA     L0C37
        STA     L0C1A
        LDA     L0C18
        ADC     L0C38
        STA     L0C38
        STA     L0C1B
        LDA     #$00
        ADC     L0C39
        STA     L0C39
        STA     L0C1C
        LDA     #$00
        ADC     L0C3A
        STA     L0C3A
        STA     L0C1D
        JSR     LBF0A

        LDA     L0C17
        STA     L0C30
        ASL     A
        STA     L0C3D
        LDA     L0C18
        STA     L0C31
        ROL     A
        STA     L0C3E
        LDA     L0C3D
        BNE     L91A0

        DEC     L0C3E
.L91A0
        DEC     L0C3D
        JSR     L9522

        SEC
        LDA     L0C37
        SBC     L0C1A
        STA     L0C3F
        LDA     L0C38
        SBC     L0C1B
        STA     L0C40
        LDA     #$00
        STA     L0C33
        STA     L0C32
        STA     L0C42
        LDA     #$01
        STA     L0C41
        LDA     #$03
        STA     L0C35
        LDA     L0C36
        AND     #$01
        BEQ     L91DB

        LSR     L0C31
        ROR     L0C30
.L91DB
        RTS

.L91DC
        LDA     L0C35
        AND     L0C36
        STA     L0C35
.L91E5
        SEC
        LDA     L0C3F
        SBC     L0C41
        TAX
        LDA     L0C40
        SBC     L0C42
        BPL     L923D

        CLC
        LDA     L0C3F
        ADC     L0C3D
        STA     L0C3F
        LDA     L0C40
        ADC     L0C3E
        STA     L0C40
        SEC
        LDA     L0C3D
        SBC     #$02
        STA     L0C3D
        BCS     L9216

        DEC     L0C3E
.L9216
        LDA     L0C35
        EOR     #$01
        STA     L0C35
        AND     #$01
        BEQ     L922D

        LDA     L0C30
        BNE     L922A

        DEC     L0C31
.L922A
        DEC     L0C30
.L922D
        SEC
        LDA     L0C3F
        SBC     L0C41
        TAX
        LDA     L0C40
        SBC     L0C42
        BMI     L9268

.L923D
        STA     L0C40
        STX     L0C3F
        CLC
        LDA     L0C41
        ADC     #$02
        STA     L0C41
        BCC     L9251

        INC     L0C42
.L9251
        LDA     L0C35
        EOR     #$02
        STA     L0C35
        AND     #$02
        BEQ     L9268

        INC     L0C34
        INC     L0C32
        BNE     L9268

        INC     L0C33
.L9268
        LDA     L0C35
        BNE     L9270

        JMP     L91E5

.L9270
        RTS

        LDA     #$00
        STA     L0C43
        JSR     L95EE

        LDY     #$14
        LDX     #$24
        JSR     L90DD

        JSR     L914F

.L9283
        JSR     L94C7

        JSR     L94EE

        LDY     #$00
        JSR     L96C6

        LDY     #$01
        JSR     L96F0

        LDX     L0C2F
        CPX     #$30
        BNE     L929D

        JSR     L8B4D

.L929D
        LDA     L0C30
        ORA     L0C31
        BEQ     L92AF

        LDX     L0C2C
        CPX     #$2C
        BNE     L92AF

        JSR     L8B4D

.L92AF
        LDA     L0C32
        ORA     L0C33
        BEQ     L92E0

        JSR     L9508

        LDY     #$03
        JSR     L96C6

        LDY     #$02
        JSR     L96F0

        LDX     L0C2F
        CPX     #$30
        BNE     L92CE

        JSR     L8B4D

.L92CE
        LDA     L0C30
        ORA     L0C31
        BEQ     L92E0

        LDX     L0C2C
        CPX     #$2C
        BNE     L92E0

        JSR     L8B4D

.L92E0
        JSR     L91DC

        LDA     L0C31
        BPL     L9283

        JMP     L8C70

        LDA     #$00
        STA     L0C43
        LDA     #$01
        STA     L0C34
        JSR     L95EE

        LDY     #$14
        LDX     #$24
        JSR     L90DD

        JSR     L914F

.L9302
        JSR     L94C7

        JSR     L94EE

        LDY     #$00
        JSR     L96C6

        LDY     #$01
        JSR     L96F0

        LDA     L0C34
        BEQ     L9354

        LDA     L0C32
        ORA     L0C33
        BNE     L933C

        LDA     L0C2F
        BNE     L932F

        LDA     L0C2D
        PHA
        LDA     L0C2C
        PHA
        JMP     L9354

.L932F
        PHA
        LDA     L0C2C
        BNE     L9338

        LDA     L0C2E
.L9338
        PHA
        JMP     L9354

.L933C
        LDY     L0C2F
        BEQ     L9349

        LDX     L0C2E
        BEQ     L934C

        JSR     L8B3B

.L9349
        LDY     L0C2D
.L934C
        LDX     L0C2C
        BEQ     L9354

        JSR     L8B3B

.L9354
        JSR     L9508

        LDY     #$03
        JSR     L96C6

        LDY     #$02
        JSR     L96F0

        LDA     L0C34
        BEQ     L93D0

        LDA     L0C32
        ORA     L0C33
        BNE     L93B8

        PLA
        TAY
        LDA     L0C2F
        BNE     L937F

        LDA     L0C2D
        PHA
        LDX     L0C2C
        JMP     L9388

.L937F
        PHA
        LDX     L0C2C
        BNE     L9388

        LDX     L0C2E
.L9388
        BNE     L9390

        STY     L0C2C
        JMP     L93A0

.L9390
        CPY     #$00
        BNE     L939A

        STX     L0C2C
        JMP     L93A0

.L939A
        JSR     L9019

        STX     L0C2C
.L93A0
        PLA
        TAX
        PLA
        TAY
        BNE     L93AB

        TXA
        TAY
        JMP     L93B2

.L93AB
        CPX     #$00
        BEQ     L93B2

        JSR     L9019

.L93B2
        LDX     L0C2C
        JMP     L93CD

.L93B8
        LDY     L0C2F
        BEQ     L93C5

        LDX     L0C2E
        BEQ     L93C8

        JSR     L8B3B

.L93C5
        LDY     L0C2D
.L93C8
        LDX     L0C2C
        BEQ     L93D0

.L93CD
        JSR     L8B3B

.L93D0
        LDA     #$00
        STA     L0C34
        JSR     L91DC

        LDA     L0C31
        BMI     L93E0

        JMP     L9302

.L93E0
        JMP     L8C70

        LDA     #$00
        STA     L0C43
        LDA     #$01
        STA     L0C34
        JSR     L95EE

        LDY     #$14
        LDX     #$24
        JSR     L90DD

        JSR     L914F

        JSR     L9547

.L93FD
        JSR     L94C7

        JSR     L94EE

        LDY     #$00
        JSR     L96C6

        LDY     #$01
        JSR     L96F0

        LDY     L0C2F
        CPY     #$30
        BNE     L942E

        LDX     L0C2C
        CPX     #$2C
        BEQ     L9423

        JSR     L9832

        LDY     #$30
        LDX     L0C43
.L9423
        LDA     L0C34
        BEQ     L9445

        JSR     L8B3B

        JMP     L9445

.L942E
        LDX     L0C2C
        CPX     #$2C
        BNE     L9445

        JSR     L9832

        LDX     #$2C
        LDY     L0C43
        LDA     L0C34
        BEQ     L9445

        JSR     L8B3B

.L9445
        LDA     #$00
        STA     L0C34
        JSR     L91DC

        LDA     L0C31
        BPL     L93FD

        LDY     #$14
        LDX     #$24
        JSR     L90DD

        JSR     L914F

        LDA     #$00
        STA     L0C43
        JSR     L95B5

        LDA     L0C32
        ORA     L0C33
        BNE     L946F

        STA     L0C34
.L946F
        JSR     L94C7

        JSR     L9508

        LDY     #$03
        JSR     L96C6

        LDY     #$02
        JSR     L96F0

        LDY     L0C2F
        CPY     #$30
        BNE     L94A0

        LDX     L0C2C
        CPX     #$2C
        BEQ     L9495

        JSR     L9832

        LDY     #$30
        LDX     L0C43
.L9495
        LDA     L0C34
        BEQ     L94B7

        JSR     L8B3B

        JMP     L94B7

.L94A0
        LDX     L0C2C
        CPX     #$2C
        BNE     L94B7

        JSR     L9832

        LDX     #$2C
        LDY     L0C43
        LDA     L0C34
        BEQ     L94B7

        JSR     L8B3B

.L94B7
        LDA     #$00
        STA     L0C34
        JSR     L91DC

        LDA     L0C31
        BPL     L946F

        JMP     L8C70

.L94C7
        CLC
        LDA     L0314
        ADC     L0C30
        STA     L0330
        LDA     L0315
        ADC     L0C31
        STA     L0331
        SEC
        LDA     L0314
        SBC     L0C30
        STA     L032C
        LDA     L0315
        SBC     L0C31
        STA     L032D
        RTS

.L94EE
        CLC
        LDA     L0316
        ADC     L0C32
        STA     L0332
        STA     L032E
        LDA     L0317
        ADC     L0C33
        STA     L0333
        STA     L032F
        RTS

.L9508
        SEC
        LDA     L0316
        SBC     L0C32
        STA     L0332
        STA     L032E
        LDA     L0317
        SBC     L0C33
        STA     L0333
        STA     L032F
        RTS

.L9522
        LDA     L0C18
        BPL     L9538

        SEC
        LDA     #$00
        SBC     L0C17
        STA     L0C17
        LDA     #$00
        SBC     L0C18
        STA     L0C18
.L9538
        LDA     L0C17
        STA     L0C1A
        LDA     L0C18
        STA     L0C1B
        JMP     LBEC1

.L9547
        LDY     #$03
.L9549
        LDA     L0C37,Y
        STA     L0C44,Y
        DEY
        BPL     L9549

.L9552
        LDY     #$03
.L9554
        LDA     L033F,Y
        STA     L0328,Y
        DEY
        BPL     L9554

        LDX     #$3F
        JSR     L9930

        LDX     #$3F
        LDY     #$14
        JSR     L90DD

        SEC
        LDX     #$03
        LDY     #$00
.L956E
        LDA     L0C44,Y
        SBC     L0C37,Y
        INY
        DEX
        BPL     L956E

        BCS     L9552

        LDY     #$14
        LDA     #$20
        LDX     #$3F
        JSR     L9873

        LDA     L0C48
        EOR     L0C49
        AND     #$02
        BEQ     L95B4

        LDA     L0C48
        LSR     A
        LSR     A
        LDY     #$24
        LDA     #$28
        LDX     #$34
        BCS     L95A0

        LDY     #$28
        LDA     #$24
        LDX     #$3F
.L95A0
        STX     L0C43
        STA     L0C4A
        JSR     L9873

        LDX     L0C48
        LDA     L0C4B,X
        AND     #$01
        STA     L0C52
.L95B4
        RTS

.L95B5
        LDA     L0C48
        EOR     L0C49
        AND     #$02
        BEQ     L95B4

        LDA     L0C48
        LSR     A
        LSR     A
        PHP
        LDY     #$14
        LDA     #$24
        LDX     #$34
        BCS     L95D3

        LDY     #$14
        LDA     #$20
        LDX     #$3F
.L95D3
        JSR     L9873

        PLP
        LDY     #$24
        LDA     #$28
        LDX     #$34
        BCC     L95E5

        LDY     #$28
        LDA     #$24
        LDX     #$3F
.L95E5
        STX     L0C43
        STA     L0C4A
        JMP     L9873

.L95EE
        LDY     #$03
        LDA     #$00
.L95F2
        STA     L0C4B,Y
        DEY
        BPL     L95F2

        LDY     #$14
        LDA     #$24
        LDX     #$34
        JSR     L9873

        LDX     #$34
        JSR     L96B6

        STA     L0C48
        LDY     #$14
        LDA     #$20
        LDX     #$3F
        JSR     L9873

        LDX     #$3F
        JSR     L96B6

        STA     L0C49
        CMP     L0C48
        BEQ     L9637

        TAY
        ROR     A
        LDA     #$07
        BCC     L9627

        EOR     #$09
.L9627
        STA     L0C4B,Y
        LDA     L0C48
        TAY
        ROR     A
        LDA     #$0A
        BCC     L96A3

        EOR     #$09
        BCS     L96A3

.L9637
        LDY     #$01
.L9639
        LDA     L033A,Y
        STA     L0C17,Y
        LDA     L0343,Y
        STA     L0C1A,Y
        DEY
        BPL     L9639

        JSR     LBEC1

        LDY     #$03
.L964D
        LDA     L0C1A,Y
        STA     L0C37,Y
        DEY
        BPL     L964D

        LDY     #$01
.L9658
        LDA     L0345,Y
        STA     L0C17,Y
        LDA     L0338,Y
        STA     L0C1A,Y
        DEY
        BPL     L9658

        JSR     LBEC1

        LDX     #$03
        LDY     #$00
        LDA     L0C48
        ROR     A
        BCS     L9681

        SEC
.L9675
        LDA     L0C1A,Y
        SBC     L0C37,Y
        INY
        DEX
        BPL     L9675

        BMI     L968B

.L9681
        LDA     L0C37,Y
        SBC     L0C1A,Y
        INY
        DEX
        BPL     L9681

.L968B
        LDA     #$3A
        BCS     L9691

        EOR     #$6D
.L9691
        ROR     L0C48
        BCC     L9698

        EOR     #$24
.L9698
        ROL     L0C48
        LDY     L0C48
        STA     L0C4B,Y
        BCS     L96B5

.L96A3
        STA     L0C4B,Y
        INY
        TYA
        AND     #$03
        CMP     L0C49
        BEQ     L96B5

        TAY
        LDA     #$01
        JMP     L96A3

.L96B5
        RTS

.L96B6
        LDA     L030A,X
        AND     #$C0
        ASL     A
        BCS     L96C1

        ROL     A
        ROL     A
        RTS

.L96C1
        ROL     A
        ROL     A
        EOR     #$01
        RTS

.L96C6
        LDA     #$30
        STA     L0C2C
        LDA     #$00
        STA     L0C2D
        STA     L0C2E
        JSR     L96F0

        LDA     L0C2C
        STA     L0C2F
        LDA     L0C2D
        PHA
        LDA     L0C2E
        STA     L0C2D
        PLA
        STA     L0C2E
        LDA     #$2C
        STA     L0C2C
        RTS

.L96F0
        LDA     #$00
        STA     L0C51
        LDA     L0C4B,Y
        LSR     A
        BNE     L9701

        BCS     L9700

        STA     L0C2C
.L9700
        RTS

.L9701
        PHP
        LSR     A
        LSR     A
        STY     L0C50
        LDX     #$34
        LDY     #$3F
        BCC     L9711

        LDX     #$3F
        LDY     #$34
.L9711
        STY     L0C4F
        LDY     L0C2C
        PLP
        BCS     L974A

        JSR     L97FF

        BPL     L9728

        JSR     L9784

        LDY     L0C50
        JMP     L96F0

.L9728
        BNE     L972D

        STX     L0C2C
.L972D
        LDX     L0C50
        LDA     L0C4B,X
        AND     #$F0
        BEQ     L9747

        LDX     L0C4F
        JSR     L97B6

        BEQ     L9744

        LDA     #$02
        STA     L0C51
.L9744
        STX     L0C2D
.L9747
        JMP     L9778

.L974A
        JSR     L97B6

        BPL     L9758

        JSR     L9784

        LDY     L0C50
        JMP     L96F0

.L9758
        STX     L0C2D
        LDX     L0C50
        LDA     L0C4B,X
        AND     #$F0
        BEQ     L9775

        LDX     L0C4F
        JSR     L97FF

        BEQ     L9772

        LDA     #$02
        STA     L0C51
.L9772
        STX     L0C2E
.L9775
        JMP     L9778

.L9778
        DEC     L0C51
        BMI     L9783

        JSR     L9784

        JMP     L9778

.L9783
        RTS

.L9784
        LDX     L0C50
        LDA     L0C4B,X
        LSR     A
        LSR     A
        LSR     A
        STA     L0C4B,X
        AND     #$01
        STA     L0C52
        LDA     L0C43
        BEQ     L979F

        LDA     #$00
        STA     L0C43
.L979F
        LDY     #$34
        LDA     #$28
        LDX     #$34
        BCC     L97AD

        LDY     #$3F
        LDA     #$24
        LDX     #$3F
.L97AD
        STX     L0C43
        STA     L0C4A
        JMP     L9873

.L97B6
        LDA     L0302,Y
        CMP     L0302,X
        BNE     L97DF

        LDA     L0303,Y
        CMP     L0303,X
        BNE     L97DF

        LDA     L0300,Y
        CMP     L0300,X
        BNE     L97DC

        LDA     L0301,Y
        CMP     L0301,X
        BNE     L97DC

        INC     L0C51
        LDA     #$01
        RTS

.L97DC
        LDA     #$00
        RTS

.L97DF
        LDA     L0300,Y
        CMP     L0300,X
        BNE     L97EF

        LDA     L0301,Y
        CMP     L0301,X
        BEQ     L97FD

.L97EF
        STX     L00DE
        STY     L00DF
        JSR     L9930

        LDX     L00DE
        LDY     L00DF
        JMP     L97B6

.L97FD
        ROR     A
        RTS

.L97FF
        JSR     L97B6

        BEQ     L9805

        RTS

.L9805
        LDA     L0300,Y
        CMP     L0300,X
        BNE     L981A

        LDA     L0301,Y
        CMP     L0301,X
        BNE     L981A

        ROL     A
        INC     L0C51
        RTS

.L981A
        CLC
        LDA     L0309,X
        AND     #$80
        ROL     A
        BCS     L9831

        STX     L00DE
        STY     L00DF
        JSR     L9930

        LDX     L00DE
        LDY     L00DF
        JMP     L9805

.L9831
        RTS

.L9832
        LDX     L0C43
        LDA     L0302,X
        CMP     L032E
        BNE     L9845

        LDA     L0303,X
        CMP     L032F
        BEQ     L984B

.L9845
        JSR     L9930

        JMP     L9832

.L984B
        LDA     L0C52
        BEQ     L9872

.L9850
        LDY     L0C4A
        LDA     L0300,X
        CMP     L0300,Y
        BNE     L9863

        LDA     L0301,X
        CMP     L0301,Y
        BEQ     L9872

.L9863
        LDA     L0309,X
        ROL     A
        BCS     L9872

        JSR     L9930

        LDX     L0C43
        JMP     L9850

.L9872
        RTS

.L9873
        PHA
        STA     L0C16
        TYA
        PHA
        LDA     L0C16
        JSR     L98F6

        PLA
        TAY
        PLA
        INY
        INY
        CLC
        ADC     #$02
        INX
        INX
        JSR     L98F6

        DEX
        DEX
        LDA     L0306,X
        CMP     L0304,X
        LDA     L0307,X
        SBC     L0305,X
        PHP
        LDA     L0305,X
        ASL     A
        ROR     L030A,X
        LDA     L0307,X
        ASL     A
        ROR     L030A,X
        BPL     L98B2

        INX
        INX
        JSR     L991C

        DEX
        DEX
.L98B2
        LDA     L030A,X
        ROL     A
        BPL     L98BB

        JSR     L991C

.L98BB
        LDA     L0306,X
        CMP     L0304,X
        LDA     L0307,X
        SBC     L0305,X
        BMI     L98D2

        LDA     L0307,X
        LDY     L0306,X
        JMP     L98D8

.L98D2
        LDA     L0305,X
        LDY     L0304,X
.L98D8
        PLP
        BMI     L98E3

        INY
        DEY
        BNE     L98E2

        SEC
        SBC     #$01
.L98E2
        DEY
.L98E3
        LSR     A
        PHA
        TYA
        ROR     A
        SEC
        SBC     L0306,X
        STA     L0308,X
        PLA
        SBC     L0307,X
        STA     L0309,X
        RTS

.L98F6
        STA     L0C16
        LDA     L0300,Y
        STA     L0300,X
        LDA     L0301,Y
        STA     L0301,X
        LDY     L0C16
        SEC
        LDA     L0300,Y
        SBC     L0300,X
        STA     L0304,X
        LDA     L0301,Y
        SBC     L0301,X
        STA     L0305,X
        RTS

.L991C
        SEC
        LDA     #$00
        SBC     L0304,X
        TAY
        LDA     #$00
        SBC     L0305,X
        STA     L0305,X
        TYA
        STA     L0304,X
        RTS

.L9930
        LDA     L0309,X
        BPL     L995D

.L9935
        CLC
        LDA     L0308,X
        ADC     L0304,X
        STA     L0308,X
        LDA     L0309,X
        ADC     L0305,X
        STA     L0309,X
        BMI     L994D

        JSR     L995D

.L994D
        INX
        INX
        LDA     L0308,X
        BMI     L9976

.L9954
        INC     L0300,X
        BNE     L995C

        INC     L0301,X
.L995C
        RTS

.L995D
        SEC
        LDA     L0308,X
        SBC     L0306,X
        STA     L0308,X
        LDA     L0309,X
        SBC     L0307,X
        STA     L0309,X
        LDA     L030A,X
        ASL     A
        BPL     L9954

.L9976
        LDA     L0300,X
        BNE     L997E

        DEC     L0301,X
.L997E
        DEC     L0300,X
        RTS

.L9982
        JSR     L99B9

        LDA     L030A,X
        ASL     A
        ASL     A
        LDA     L030A,X
        ROR     A
        STA     L00DA
        CLC
        BPL     L99A3

        LDA     L0302,X
        SBC     L0304
        TAY
        LDA     L0303,X
        SBC     L0305
        JMP     L99B0

.L99A3
        LDA     L0300
        SBC     L0302,X
        TAY
        LDA     L0301
        SBC     L0303,X
.L99B0
        JSR     L9A0B

        JSR     L99B9

        JMP     L995D

.L99B9
        INX
        TXA
        PHA
        INX
        TXA
        DEX
        DEX
        TAY
        JSR     LCDA6

        INX
        INX
        INY
        INY
        JSR     LCDA6

        STA     L0C16
        PLA
        TAX
        LDA     L0C16
        JSR     L99D7

        DEX
.L99D7
        LDA     L0308,X
        EOR     #$FF
        STA     L0308,X
        RTS

.L99E0
        CLC
        LDA     L030A,X
        STA     L00DA
        BPL     L99F8

        LDA     L0302,X
        SBC     L0306
        TAY
        LDA     L0303,X
        SBC     L0307
        JMP     L9A05

.L99F8
        LDA     L0302
        SBC     L0302,X
        TAY
        LDA     L0303
        SBC     L0303,X
.L9A05
        JSR     L9A0B

        JMP     L9935

.L9A0B
        STY     L00DE
        STA     L00DF
        LDA     L0302,X
        LDY     L0303,X
        ASL     L00DA
        BCS     L9A24

        ADC     L00DE
        STA     L0302,X
        TYA
        ADC     L00DF
        JMP     L9A2C

.L9A24
        SBC     L00DE
        STA     L0302,X
        TYA
        SBC     L00DF
.L9A2C
        STA     L0303,X
        LDA     L0309,X
        PHP
        LDA     #$00
        PLP
        BPL     L9A3B

        SEC
        SBC     #$01
.L9A3B
        STA     L00DC
        LSR     A
        STA     L00DD
        LDY     #$10
.L9A42
        LDA     L00DD
        ASL     A
        ROL     L0308,X
        ROL     L0309,X
        ROL     L00DC
        ROL     L00DD
        ASL     L00DE
        ROL     L00DF
        BCC     L9A6E

        CLC
        LDA     L00DC
        ADC     L0304,X
        STA     L00DC
        LDA     L00DD
        ADC     L0305,X
        STA     L00DD
        BCC     L9A6E

        INC     L0308,X
        BNE     L9A6E

        INC     L0309,X
.L9A6E
        DEY
        BNE     L9A42

        STA     L0C16
        LDA     L0309,X
        ASL     A
        PHP
        LDA     L0C16
        PLP
        BPL     L9A8A

        LDA     L00DC
        STA     L0308,X
        LDA     L00DD
        STA     L0309,X
        RTS

.L9A8A
        LDY     #$10
.L9A8C
        ROL     L00DC
        ROL     L00DD
        ROL     L0308,X
        ROL     L0309,X
        SEC
        LDA     L0308,X
        SBC     L0306,X
        STA     L00DE
        LDA     L0309,X
        SBC     L0307,X
        BCC     L9AAF

        STA     L0309,X
        LDA     L00DE
        STA     L0308,X
.L9AAF
        DEY
        BNE     L9A8C

        ROL     L00DC
        ROL     L00DD
        SEC
        LDA     L0308,X
        SBC     L0306,X
        STA     L0308,X
        LDA     L0309,X
        SBC     L0307,X
        STA     L0309,X
        LDA     L0300,X
        LDY     L0301,X
        ASL     L00DA
        BCS     L9ADF

        SEC
        ADC     L00DC
        STA     L0300,X
        TYA
        ADC     L00DD
        JMP     L9AE8

.L9ADF
        CLC
        SBC     L00DC
        STA     L0300,X
        TYA
        SBC     L00DD
.L9AE8
        STA     L0301,X
.L9AEB
        RTS

        JSR     L9CBF

        LDA     L031F
        JSR     L9AFB

        JSR     L9CD0

        JMP     L8C70

.L9AFB
        ASL     A
        ASL     A
        STA     L00DB
        AND     #$C0
        EOR     #$40
        BNE     L9B15

        LDA     #$80
        STA     L0C12
        LDA     #$00
        STA     L0C13
        LDA     L0C10
        STA     L0C11
.L9B15
        LDX     #$24
        JSR     LCA79

        STA     L00DC
        BEQ     L9B24

        LDA     #$7F
        AND     L00DB
        STA     L00DB
.L9B24
        LDX     #$20
        JSR     LCA79

        STA     L0C14
        BEQ     L9B3A

        TAX
        LDA     #$DF
        AND     L00DB
        STA     L00DB
        TXA
        BIT     L00DC
.L9B38
        BNE     L9AEB

.L9B3A
        LDY     #$24
        LDA     #$20
        LDX     #$28
        JSR     L9873

        LDA     L00DC
        AND     #$0C
        PHP
        LDA     L00DC
        PLP
        BEQ     L9B5C

        LDX     #$28
        JSR     L99E0

        LDX     #$28
        JSR     LCA79

        BIT     L0C14
        BNE     L9B38

.L9B5C
        STA     L0C16
        AND     #$03
        PHP
        LDA     L0C16
        PLP
        BEQ     L9B72

        LDX     #$28
        JSR     L9982

        LDX     #$28
        JSR     LCA79

.L9B72
        TAY
        BNE     L9B38

        LDY     #$20
        LDX     #$22
        LDA     L0C14
        BEQ     L9B8D

        LDY     #$04
        LDX     #$06
        BIT     L0332
        BPL     L9B89

        LDX     #$02
.L9B89
        BVC     L9B8D

        LDY     #$00
.L9B8D
        CLC
        LDA     L0300,X
        SBC     L032A
        BCC     L9B9A

        ADC     #$00
        EOR     #$FF
.L9B9A
        STA     L00DC
        CLC
        LDA     L0300,Y
        SBC     L0328
        TAX
        LDA     L0301,Y
        SBC     L0329
        BMI     L9BBA

        INX
        BNE     L9BB2

        CLC
        ADC     #$01
.L9BB2
        EOR     #$FF
        TAY
        TXA
        EOR     #$FF
        TAX
        TYA
.L9BBA
        STA     L00DD
        STX     L0C14
        LDX     #$28
        JSR     L8B5B

        ASL     L00DB
        BCS     L9C12

.L9BC8
        BIT     L00DB
        BVC     L9BDA

        LDA     L0C14
        AND     L00DC
        AND     L00DD
        CLC
        ADC     #$01
        BEQ     L9C29

        BIT     L00DB
.L9BDA
        BPL     L9C0F

        STX     L0C16
        LDX     L0C13
        LDA     L0C08,X
        AND     L0C12
        PHP
        LSR     L0C12
        BCC     L9BF4

        ROR     L0C12
        INC     L0C13
.L9BF4
        DEC     L0C11
        BNE     L9C09

        LDA     L0C10
        STA     L0C11
        LDA     #$80
        STA     L0C12
        LDA     #$00
        STA     L0C13
.L9C09
        LDX     L0C16
        PLP
        BEQ     L9C12

.L9C0F
        JSR     LD0BF

.L9C12
        LDA     L0331
        BPL     L9C4D

        INC     L00DC
        BEQ     L9C29

        BIT     L0332
        BMI     L9C2A

        DEY
        BPL     L9C32

        JSR     LD34B

        JMP     L9C32

.L9C29
        RTS

.L9C2A
        INY
        CPY     #$08
        BNE     L9C32

        JSR     L9CA7

.L9C32
        JSR     L8B5E

        CLC
        LDA     L0330
        ADC     L032C
        STA     L0330
        LDA     L0331
        ADC     L032D
        STA     L0331
        BPL     L9C4D

        JMP     L9BC8

.L9C4D
        INC     L0C14
        BNE     L9C56

        INC     L00DD
        BEQ     L9C29

.L9C56
        BIT     L0332
        BVS     L9C65

        LSR     L00D1
        BCC     L9C6C

        JSR     LD365

        JMP     L9C6C

.L9C65
        ASL     L00D1
        BCC     L9C6C

        JSR     LD375

.L9C6C
        SEC
        LDA     L0330
        SBC     L032E
        STA     L0330
        LDA     L0331
        SBC     L032F
        STA     L0331
        JMP     L9BC8

        BMI     L9C8D

        INC     L0328,X
        BNE     L9C98

        INC     L0329,X
        RTS

.L9C8D
        LDA     L0328,X
        BNE     L9C95

        DEC     L0329,X
.L9C95
        DEC     L0328,X
.L9C98
        RTS

        LDY     #$04
.L9C9B
        LDA     L0327,Y
        CMP     L032B,Y
        BNE     L9CA6

        DEY
        BNE     L9C9B

.L9CA6
        RTS

.L9CA7
        CLC
        LDA     L00D6
        ADC     L0352
        STA     L00D6
        LDA     L00D7
        ADC     L0353
        BPL     L9CBA

        SEC
        SBC     L0354
.L9CBA
        STA     L00D7
        LDY     #$00
        RTS

.L9CBF
        JSR     L8943

        LDY     #$97
        LDX     #$0B
.L9CC6
        LDA     (L00F8),Y
        STA     L0C08,X
        DEY
        DEX
        BPL     L9CC6

        RTS

.L9CD0
        JSR     L8943

        LDY     #$97
        LDX     #$02
.L9CD7
        LDA     L0C11,X
        STA     (L00F8),Y
        DEY
        DEX
        BPL     L9CD7

        RTS

        LDA     #$01
        LDX     #$00
        BEQ     L9CEB

        LDA     #$00
        LDX     #$01
.L9CEB
        STA     L0330
        JSR     L8E36

        LDY     #$49
        LDA     (L00F8),Y
        BPL     L9D43

        LDX     #$20
        JSR     L9F0B

        BNE     L9D43

        LDA     #$00
        STA     L032D
        STA     L032E
        LDA     L0320
        LDX     L0321
        LDY     L0322
        JSR     L9DC5

        JSR     L9D46

.L9D15
        BIT     L00FF
        BMI     L9D43

        JSR     L9D87

        LDY     L032A
        INY
        BEQ     L9D2D

        STY     L032A
        JSR     L9ECF

        BCC     L9D43

        DEC     L032A
.L9D2D
        LDY     L032A
        BEQ     L9D3B

        DEY
        STY     L032A
        JSR     L9ECF

        BCC     L9D43

.L9D3B
        LDX     L032E
        CPX     L032D
        BNE     L9D15

.L9D43
        JMP     L8C70

.L9D46
        LDX     L032E
        INX
        TXA
        AND     #$7F
        CMP     L032D
        BEQ     L9D85

        STA     L032E
        TAY
        LDA     L00F9
        STA     L00DD
        INC     L00DD
        LDA     #$00
        STA     L00DC
        LDA     L0314
        STA     (L00DC),Y
        INC     L00DD
        LDA     L0324
        STA     (L00DC),Y
        LDA     #$80
        STA     L00DC
        LDA     L0325
        ASL     A
        ASL     A
        ASL     A
        ASL     A
        ORA     L0315
        STA     (L00DC),Y
        DEC     L00DD
        LDA     L0316
        STA     (L00DC),Y
        SEC
        RTS

.L9D85
        CLC
        RTS

.L9D87
        INC     L032D
        LDA     L032D
        AND     #$7F
        STA     L032D
        TAY
        LDA     L00F9
        STA     L00DD
        INC     L00DD
        LDA     #$00
        STA     L00DC
        LDA     (L00DC),Y
        STA     L0328
        INC     L00DD
        LDA     (L00DC),Y
        STA     L032B
        LDA     #$80
        STA     L00DC
        LDA     (L00DC),Y
        LSR     A
        LSR     A
        LSR     A
        LSR     A
        STA     L032C
        LDA     (L00DC),Y
        AND     #$0F
        STA     L0329
        DEC     L00DD
        LDA     (L00DC),Y
        STA     L032A
        RTS

.L9DC5
        STA     L0324
        STA     L0314
        STX     L0325
        STX     L0315
        STY     L0326
        STY     L0316
        LDA     #$00
        STA     L0327
        STA     L0317
.L9DDF
        LDX     #$14
        JSR     L8B56

        BEQ     L9DE7

        RTS

.L9DE7
        JSR     L9F12

        BEQ     L9DF7

        RTS

.L9DED
        JSR     L9F12

        BNE     L9E28

        LDA     L00D1
        ORA     L032F
.L9DF7
        STA     L032F
        LDA     L0315
        CMP     L0301
        BNE     L9E0A

        LDA     L0314
        CMP     L0300
        BEQ     L9E30

.L9E0A
        LDA     L0314
        BNE     L9E12

        DEC     L0315
.L9E12
        DEC     L0314
        ASL     L00D1
        BCC     L9DED

        JSR     L9E82

        LDA     #$00
        STA     L032F
        SEC
        JSR     LD375

        JMP     L9DED

.L9E28
        INC     L0314
        BNE     L9E30

        INC     L0315
.L9E30
        JSR     L9E82

.L9E33
        LDA     #$00
        STA     L032F
        LDX     #$24
        JSR     L8B56

        BNE     L9E8E

.L9E3F
        JSR     L9F12

        BNE     L9E77

        LDA     L00D1
        ORA     L032F
        STA     L032F
        LDA     L0325
        CMP     L0305
        BNE     L9E5C

        LDA     L0324
        CMP     L0304
        BEQ     L9E82

.L9E5C
        INC     L0324
        BNE     L9E64

        INC     L0325
.L9E64
        LSR     L00D1
        BCC     L9E3F

        JSR     L9E82

        LDA     #$00
        STA     L032F
        SEC
        JSR     LD365

        JMP     L9E3F

.L9E77
        LDA     L0324
        BNE     L9E7F

        DEC     L0325
.L9E7F
        DEC     L0324
.L9E82
        LDX     L00D1
        LDA     L032F
        STA     L00D1
        JSR     LD0BF

        STX     L00D1
.L9E8E
        RTS

.L9E8F
        STA     L0320
        STX     L0321
        STY     L0322
        LDA     #$00
        STA     L0323
        LDX     #$20
        JSR     L8B56

        BNE     L9ECD

.L9EA4
        JSR     L9F12

        BEQ     L9ECB

        LDY     L0320
        CPY     L032B
        BNE     L9EB9

        LDY     L0321
        CPY     L032C
        BEQ     L9ECD

.L9EB9
        INC     L0320
        BNE     L9EC1

        INC     L0321
.L9EC1
        LSR     L00D1
        BCC     L9EA4

        JSR     LD365

        JMP     L9EA4

.L9ECB
        CLC
        RTS

.L9ECD
        SEC
        RTS

.L9ECF
        LDA     L0328
        LDX     L0329
        LDY     L032A
        JSR     L9E8F

        BCS     L9F0A

.L9EDD
        LDA     L0320
        LDX     L0321
        LDY     L0322
        JSR     L9DC5

        JSR     L9D46

        BCC     L9F0A

        LDA     L0324
        CMP     L032B
        LDA     L0325
        SBC     L032C
        BCS     L9F0A

        LDA     L0324
        LDX     L0325
        LDY     L0326
        JSR     L9E8F

        BCC     L9EDD

.L9F0A
        RTS

.L9F0B
        LDX     #$20
        JSR     L8B56

        BNE     L9F27

.L9F12
        LDY     L031A
        JSR     LD427

        EOR     L035A
        EOR     L0C17,Y
        AND     L00D1
        BEQ     L9F24

        LDA     #$01
.L9F24
        EOR     L0330
.L9F27
        RTS

        LDA     #$00
        LDX     #$01
.L9F2C
        STA     L0330
        JSR     L8E36

        LDY     #$03
.L9F34
        LDA     L0320,Y
        STA     L0314,Y
        STA     L0324,Y
        DEY
        BPL     L9F34

        JSR     L9DDF

        JMP     L8C81

        LDA     #$01
        LDX     #$00
        BEQ     L9F2C

        LDA     #$01
        TAX
        BNE     L9F54

        LDA     #$00
        TAX
.L9F54
        STA     L0330
        JSR     L8E36

        LDY     #$03
.L9F5C
        LDA     L0320,Y
        STA     L0314,Y
        STA     L0324,Y
        DEY
        BPL     L9F5C

        JSR     L9E33

        JMP     L8C81

.L9F6E
        LDY     #$02
.L9F70
        LDA     #$00
        STA     L00DA
        DEX
        DEX
        JSR     LD0D9

        INX
        INX
        LDA     L00DA
        RTS

        LDA     L031F
        JSR     L9F87

        JMP     L8C70

.L9F87
        AND     #$02
        STA     L0345
        LDA     LC413
        STA     L00A8
        LDA     LC414
        STA     L00A9
        LDA     LC412
        STA     L00AA
        LDA     LC417
        STA     L00AB
        LDX     #$01
        JSR     L8E36

        LDX     #$07
.L9FA7
        LDA     L0C17,X
        STA     L0C00,X
        DEX
        BPL     L9FA7

        LDX     #$14
        JSR     L8E0E

        LDY     #$34
        LDX     #$20
        JSR     LD403

        STY     L00DA
        LDX     #$34
        LDY     #$2C
        LDA     #$28
        JSR     LA1CB

        LDX     #$28
        LDY     #$34
        JSR     L902E

        STA     L0C16
        TYA
        PHA
        TXA
        PHA
        LDA     L0C16
        LDY     #$00
        JSR     L9F70

        BEQ     L9FE7

        LSR     A
        BEQ     L9FE5

        PLA
.L9FE3
        PLA
        RTS

.L9FE5
        LDX     #$00
.L9FE7
        PLA
        LDY     #$30
        STY     L00DA
        LDY     #$28
        JSR     LA1D9

        LDY     #$3C
        STY     L00DA
        LDY     #$34
        JSR     LA1D9

        PLA
        CLC
        ADC     #$04
        TAX
        PHA
        LDY     #$00
        JSR     L9F70

        BEQ     LA00C

        LSR     A
        BEQ     L9FE3

        LDX     #$04
.LA00C
        PLA
        LDY     #$40
        STY     L00DA
        LDY     #$38
        JSR     LA1D9

        LDA     L0340
        CMP     L033C
        LDA     L0341
        SBC     L033D
        BPL     LA036

        LDA     L0345
        BNE     LA02C

        JSR     L8DE6

.LA02C
        LDX     #$34
        LDY     #$28
        JSR     LD3F4

        JMP     L8DE6

.LA036
        LDA     #$00
        STA     L0347
        LDA     L0330
        AND     L0361
        STA     L00DA
        LDA     L033C
        AND     L0361
        SEC
        SBC     L00DA
        BPL     LA054

        DEC     L0347
        AND     L0361
.LA054
        STA     L0343
        PHA
        EOR     #$FF
        CLC
        ADC     #$01
        AND     L0361
        STA     L0342
        PLA
        CLC
        ADC     L0361
        TAX
        LDA     L8A8A,X
        STA     L0C15
        LDX     #$3C
        LDY     #$40
        JSR     LA219

        STA     L0344
        LDA     L00D1
        STA     L0346
        LDA     L00DC
        STA     L0C14
        LDX     #$00
        JSR     LA1BC

        BEQ     LA0CB

        LDA     L032A
        CMP     L0336
        LDA     L032B
        SBC     L0337
        BVC     LA09A

        EOR     #$80
.LA09A
        BMI     LA0AE

.LA09C
        JSR     LA0CB

        LDX     #$00
        JSR     LA1A6

        LDX     #$0C
        JSR     LA1A6

        BNE     LA09C

        JMP     LA0CB

.LA0AE
        LDX     #$2A
        LDY     #$2E
        JSR     LCDA6

        LDX     #$36
        LDY     #$3A
        JSR     LCDA6

.LA0BC
        JSR     LA0CB

        LDX     #$00
        JSR     LA1B1

        LDX     #$0C
        JSR     LA1B1

        BNE     LA0BC

.LA0CB
        LDX     #$2A
        LDY     #$32
        JSR     LD3FB

        LDX     #$36
        LDY     #$3E
        JSR     LD3FB

        LDX     #$2A
        JSR     L9F6E

        PHA
        LDX     #$36
        JSR     L9F6E

        BEQ     LA0F6

        PLA
        BNE     LA0EE

        LDA     L0345
        BEQ     LA0EF

.LA0EE
        RTS

.LA0EF
        LDX     #$28
        LDY     #$2C
        JMP     LA0FD

.LA0F6
        PLA
        BEQ     LA100

        LDX     #$34
        LDY     #$38
.LA0FD
        JMP     L8B21

.LA100
        LDX     #$30
        JSR     L8B5B

        BIT     L0347
        BMI     LA115

        SEC
        LDA     L00D6
        SBC     #$08
        STA     L00D6
        BCS     LA115

        DEC     L00D7
.LA115
        LDA     L0344
        STA     L00DD
.LA11A
        JSR     LD427

        EOR     L035A
        LDX     L0342
        BEQ     LA129

.LA125
        ASL     A
        DEX
        BNE     LA125

.LA129
        STA     L00DA
        SEC
        JSR     LD36A

        LDX     L00DA
        JSR     LD427

        EOR     L035A
        STX     L00DA
        LDX     L0343
        BEQ     LA142

.LA13E
        LSR     A
        DEX
        BNE     LA13E

.LA142
        EOR     L00DA
        AND     L0C15
        EOR     L00DA
        LDX     L00DD
        STA     L0C17,X
        DEC     L00DD
        BPL     LA11A

        LDX     #$34
        LDY     #$38
        JSR     L8B21

        LDA     L0345
        BNE     LA161

        JSR     LA0EF

.LA161
        LDX     #$3C
        JSR     L8B5B

        LDA     L0346
        STA     L00DA
        LDX     L0344
        BEQ     LA187

        JSR     LA190

        LDA     #$FF
        STA     L00DA
        JMP     LA180

.LA17A
        LDA     L0C17,X
        JSR     LD0CD

.LA180
        SEC
        JSR     LD36A

        DEX
        BNE     LA17A

.LA187
        LDA     L0C14
        EOR     #$FF
        AND     L00DA
        STA     L00DA
.LA190
        LDA     L00DA
        STA     L00DB
        JSR     LD427

        EOR     L035A
        STA     L00DA
        EOR     L0C17,X
        AND     L00DB
        EOR     L00DA
        JMP     LD0CD

.LA1A6
        INC     L032A,X
        BNE     LA1BC

        INC     L032B,X
        JMP     LA1BC

.LA1B1
        LDA     L032A,X
        BNE     LA1B9

        DEC     L032B,X
.LA1B9
        DEC     L032A,X
.LA1BC
        LDA     L032A,X
        CMP     L032E,X
        BNE     LA1CA

        LDA     L032B,X
        CMP     L032F,X
.LA1CA
        RTS

.LA1CB
        JSR     LA1D9

        INY
        INY
        INX
        INX
        CLC
        ADC     #$02
        INC     L00DA
        INC     L00DA
.LA1D9
        STA     L0C16
        TXA
        PHA
        TYA
        PHA
        LDA     L0C16
        PHA
        CLC
        LDA     L0300,X
        ADC     L0300,Y
        STA     L00DE
        LDA     L0301,X
        ADC     L0301,Y
        STA     L0C16
        PLA
        TAX
        LDA     L0C16
        PHA
        LDY     L00DA
        SEC
        LDA     L00DE
        SBC     L0300,X
        STA     L0300,Y
        PLA
        SBC     L0301,X
        STA     L0301,Y
        STX     L0C16
        PLA
        TAY
        PLA
        TAX
        LDA     L0C16
        RTS

.LA219
        LDA     L0301,Y
        PHA
        LDA     L0300,Y
        PHA
        AND     L0361
        CLC
        ADC     L0361
        TAY
        LDA     LC3FD,Y
        EOR     L8A8A,Y
        STA     L00DC
        LDA     L0300,X
        AND     L0361
        ADC     L0361
        TAY
        LDA     L8A8A,Y
        STA     L00D1
        SEC
        PLA
        ORA     L0361
        SBC     L0300,X
        TAY
        PLA
        SBC     L0301,X
        STA     L00DD
        TYA
        LDY     L0361
        CPY     #$03
        BEQ     LA25C

        BCC     LA25F

        LSR     L00DD
        ROR     A
.LA25C
        LSR     L00DD
        ROR     A
.LA25F
        LSR     A
        RTS

        LDY     #$4C
        LDA     (L00F8),Y
        INY
        ORA     (L00F8),Y
        BNE     LA26D

        JMP     L8C70

.LA26D
        LDA     (L00F8),Y
        TAX
        DEY
        LDA     (L00F8),Y
        STA     L00F8
        STX     L00F9
        LDY     #$05
.LA279
        LDA     (L00F8),Y
        STA     L0328,Y
        DEY
        BPL     LA279

        CLC
        LDA     L00F8
        ADC     #$06
        STA     L032A
        LDA     L00F9
        ADC     #$00
        STA     L032B
        LDY     #$07
        LDA     #$00
.LA294
        STA     L032C,Y
        DEY
        BPL     LA294

        LDA     L0328
        STA     L0330
        LDA     L0329
        STA     L0332
        LDA     L0361
.LA2A9
        ASL     L0330
        ROL     L0331
        LSR     A
        BNE     LA2A9

        LDA     L0361
        ORA     L0330
        STA     L0330
        LDX     #$20
        LDY     #$34
        JSR     LD403

        STY     L00DA
        LDA     L0361
        EOR     #$FF
        AND     L0334
        STA     L0334
        LDX     #$34
        LDY     #$30
        LDA     #$2C
        JSR     LA1CB

        LDX     #$34
        JSR     LCA79

        BEQ     LA316

        AND     #$0A
        BEQ     LA2E6

.LA2E3
        JMP     L8C70

.LA2E6
        LDA     L00DA
        PHA
        AND     #$01
        BEQ     LA2FF

        LDX     #$00
        LDY     #$2C
        STY     L00DA
        LDA     #$34
        JSR     LA1D9

        LDY     #$34
        STY     L00DA
        JSR     LA1D9

.LA2FF
        PLA
        AND     #$04
        BEQ     LA316

        LDX     #$02
        LDY     #$2E
        STY     L00DA
        LDA     #$36
        JSR     LA1D9

        LDY     #$36
        STY     L00DA
        JSR     LA1D9

.LA316
        LDX     #$38
        JSR     LCA79

        BEQ     LA351

        AND     #$05
        BNE     LA2E3

        LDA     L00DA
        PHA
        AND     #$02
        BEQ     LA33A

        LDX     #$04
        LDY     #$30
        STY     L00DA
        LDA     #$38
        JSR     LA1D9

        LDY     #$38
        STY     L00DA
        JSR     LA1D9

.LA33A
        PLA
        AND     #$08
        BEQ     LA351

        LDX     #$06
        LDY     #$32
        STY     L00DA
        LDA     #$3A
        JSR     LA1D9

        LDY     #$3A
        STY     L00DA
        JSR     LA1D9

.LA351
        LDA     L0361
.LA354
        LSR     L0331
        ROR     L0330
        LSR     L032D
        ROR     L032C
        LSR     A
        BNE     LA354

        LDX     #$38
        JSR     LD7ED

        SEC
        LDA     L0329
        SBC     L0332
        TAX
        BEQ     LA384

.LA372
        SEC
        LDA     L032A
        ADC     L0328
        STA     L032A
        BCC     LA381

        INC     L032B
.LA381
        DEX
        BNE     LA372

.LA384
        SEC
        LDA     L0328
        SBC     L0330
        CLC
        ADC     L032A
        STA     L032A
        BCC     LA397

        INC     L032B
.LA397
        SEC
        LDA     L0332
        SBC     L032E
        STA     L032E
        INC     L032E
        SEC
        LDA     L0330
        SBC     L032C
        STA     L032C
        INC     L032C
.LA3B1
        LDA     L00D6
        PHA
        LDA     L00D7
        PHA
        LDA     L032A
        STA     L00F8
        LDA     L032B
        STA     L00F9
        LDX     L032C
.LA3C4
        LDY     #$00
        LDA     (L00F8),Y
        PHA
        ORA     L00AA
        EOR     L00AB
        STA     L00D5
        PLA
        ORA     L00A8
        EOR     L00A9
        LDY     L031A
        STA     L00D4
        JSR     LD0D0

        INC     L00F8
        BNE     LA3E2

        INC     L00F9
.LA3E2
        SEC
        JSR     LD375

        DEX
        BNE     LA3C4

        PLA
        STA     L00D7
        PLA
        STA     L00D6
        SEC
        LDA     L032A
        ADC     L0328
        STA     L032A
        BCC     LA3FE

        INC     L032B
.LA3FE
        INC     L031A
        LDY     L031A
        CPY     #$08
        BCC     LA40E

        JSR     L9CA7

        STY     L031A
.LA40E
        DEC     L032E
        BNE     LA3B1

        JMP     L8C70

.LA416
        JSR     LB865

        PHA
        JSR     print_inline_counted

        EQUB    $03

        EQUS    $17,$1B,$01

.LA421
        PLA
        JSR     oswrch

        JSR     print_inline_counted

        EQUB    $06

        EQUS    $00,$00,$00,$00,$00,$00

.LA42F
        RTS

.LA430
        JMP     L81DD

.LA433
        PLA
        RTS

.LA435
        PHA
        LDY     #$4A
        LDA     (L00F8),Y
        BEQ     LA430

        LDX     #$14
        JSR     L8E0E

        LDX     #$28
        JSR     LCA79

        BEQ     LA466

        AND     #$0A
        BNE     LA433

        LDA     L00DA
        PHA
        AND     #$01
        BEQ     LA45A

        LDX     #$00
        LDY     #$28
        JSR     LD3FB

.LA45A
        PLA
        AND     #$04
        BEQ     LA466

        LDX     #$02
        LDY     #$2A
        JSR     LD3FB

.LA466
        LDX     #$2C
        JSR     LCA79

        BEQ     LA48B

        AND     #$05
        BNE     LA433

        LDA     L00DA
        PHA
        AND     #$02
        BEQ     LA47F

        LDX     #$04
        LDY     #$2C
        JSR     LD3FB

.LA47F
        PLA
        AND     #$08
        BEQ     LA48B

        LDX     #$06
        LDY     #$2E
        JSR     LD3FB

.LA48B
        LDX     #$2C
        JSR     LD7ED

        SEC
        LDA     L032C
        SBC     L0328
        STA     L0328
        LDA     L032D
        SBC     L0329
        STA     L0329
        LDA     L0361
.LA4A6
        LSR     L0329
        ROR     L0328
        LSR     A
        BNE     LA4A6

        LDX     L0328
        INX
        SEC
        LDA     L032E
        SBC     L032A
        STA     L0329
        TAY
        INY
        BNE     LA4C5

        DEY
        DEC     L0329
.LA4C5
        JSR     LB8E8

        CLC
        LDA     L00DE
        STA     L032A
        LDA     L00DF
        STA     L032B
        JSR     LB818

        PLA
        PHA
        JSR     LB7D7

        BEQ     LA4F7

        CLC
        LDY     #$02
        LDA     (L00DC),Y
        ADC     L00DE
        STA     L00DE
        INY
        LDA     (L00DC),Y
        ADC     L00DF
        STA     L00DF
        LDA     #$06
        ADC     L00DE
        STA     L00DE
        BCC     LA4F7

        INC     L00DF
.LA4F7
        SEC
        LDA     L00DE
        SBC     #$06
        BCS     LA500

        DEC     L00DF
.LA500
        CMP     L032A
        LDA     L00DF
        SBC     L032B
        BMI     LA588

        PLA
        PHA
        JSR     LAACA

        CLC
        LDA     L00DA
        STA     L00DC
        ADC     #$06
        STA     L00DA
        LDA     L00DB
        STA     L00DD
        BCC     LA520

        INC     L00DB
.LA520
        LDY     #$05
        PLA
        PHA
        STA     (L00DC),Y
        DEY
        LDA     L0355
        STA     (L00DC),Y
        DEY
.LA52D
        LDA     L0328,Y
        STA     (L00DC),Y
        DEY
        BPL     LA52D

        INC     L0328
        INC     L0329
.LA53B
        LDX     L0328
        LDA     L00D6
        PHA
        LDA     L00D7
        PHA
.LA544
        LDY     L031A
        LDA     L00DA
        PHA
        JSR     LD427

        EOR     L035A
        TAY
        PLA
        STA     L00DA
        TYA
        LDY     #$00
        STA     (L00DA),Y
        INC     L00DA
        BNE     LA55F

        INC     L00DB
.LA55F
        SEC
        JSR     LD375

        DEX
        BNE     LA544

        PLA
        STA     L00D7
        PLA
        STA     L00D6
        INC     L031A
        LDY     L031A
        CPY     #$08
        BCC     LA57C

        JSR     L9CA7

        STY     L031A
.LA57C
        DEC     L0329
        BNE     LA53B

        JSR     LAAFE

        PLA
        JMP     LA784

.LA588
        JSR     generate_error

        EQUS    $82,"No room to get sprite",$00

.LA5A2
        JSR     generate_error

        EQUS    $83,"No Sprites",$00

.LA5B1
        JSR     LA742

        TYA
        LDY     #$54
        STA     (L00F8),Y
        TXA
        DEY
        STA     (L00F8),Y
        LDY     #$4B
        LDA     (L00F8),Y
        BEQ     LA5A2

        JSR     LB818

        LDY     #$4E
        LDA     (L00F8),Y
        STA     L00DB
        LDA     #$00
        STA     L00DA
        LDY     #$4B
        LDA     (L00F8),Y
        LDY     #$02
        STA     (L00DA),Y
        LDY     #$00
        SEC
        LDA     L00DC
        STA     (L00DA),Y
        INY
        LDA     L00DD
        SBC     L00DB
        STA     (L00DA),Y
        LDY     #$64
        LDX     #$06
        LDA     #$FF
.LA5EC
        STA     (L00F8),Y
        DEY
        DEX
        BNE     LA5EC

        LDY     #$5D
        LDA     #$00
        STA     (L00F8),Y
        INY
        LDA     L00DB
        STA     (L00F8),Y
        LDY     #$62
        STA     (L00F8),Y
        DEY
        LDA     #$02
        STA     (L00F8),Y
        LDX     #$53
        LDY     L00F9
        LDA     #$00
        JSR     LFFDD

        JSR     L8943

        JSR     LB818

        LDY     #$4E
        LDA     (L00F8),Y
        STA     L00DB
        LDA     #$00
        STA     L00DA
        LDY     #$64
        LDX     #$06
        LDA     #$FF
.LA625
        STA     (L00F8),Y
        DEY
        DEX
        BNE     LA625

        LDY     #$5D
        LDA     L00DA
        STA     (L00F8),Y
        INY
        LDA     L00DB
        LDY     #$5E
        STA     (L00F8),Y
        LDY     #$61
        LDA     L00DC
        STA     (L00F8),Y
        INY
        LDA     L00DD
        STA     (L00F8),Y
        LDX     #$53
        LDY     L00F9
        LDA     #$00
        JMP     LFFDD

.LA64C
        JSR     LA742

        STX     L00DA
        STY     L00DB
        LDY     #$4E
        LDA     (L00F8),Y
        STA     L00DD
        LDA     #$00
        STA     L00DC
        JSR     LA6A4

        BCS     LA669

        LDY     #$4B
        STA     (L00F8),Y
        JMP     L8A6B

.LA669
        RTS

.LA66A
        JSR     LA742

        STX     L00DA
        STY     L00DB
        JSR     LB818

        JSR     LA6A4

        BCS     LA68F

        TAX
        CLC
        LDA     L00DC
        ADC     #$03
        STA     L00DC
        BCC     LA685

        INC     L00DD
.LA685
        TXA
        PHA
        JSR     LAAFE

        PLA
        TAX
        DEX
        BNE     LA685

.LA68F
        RTS

.LA690
        JSR     generate_error

        EQUS    $85,"Can't open file",$00

.LA6A4
        LDY     #$53
        LDA     L00DA
        STA     (L00F8),Y
        INY
        LDA     L00DB
        STA     (L00F8),Y
        INY
        LDA     L00DC
        STA     (L00F8),Y
        INY
        LDA     L00DD
        STA     (L00F8),Y
        INY
        LDA     #$FF
        STA     (L00F8),Y
        INY
        STA     (L00F8),Y
        INY
        LDA     #$00
        STA     (L00F8),Y
        LDY     #$65
        LDA     L00DC
        STA     (L00F8),Y
        INY
        LDA     L00DD
        STA     (L00F8),Y
        LDX     L00DA
        LDY     L00DB
        LDA     #$40
        JSR     LFFCE

        CMP     #$00
        BEQ     LA690

        TAY
        JSR     LFFD7

        PHA
        JSR     LFFD7

        PHA
        LDA     #$00
        JSR     LFFCE

        JSR     L8943

        PLA
        STA     L00DD
        PLA
        STA     L00DC
        CLC
        LDY     #$65
        LDA     (L00F8),Y
        ADC     L00DC
        STA     L00DC
        INY
        LDA     (L00F8),Y
        ADC     L00DD
        STA     L00DD
        LDY     #$4F
        LDA     #$00
        CMP     L00DC
        LDA     (L00F8),Y
        SBC     L00DD
        BCC     LA72E

        LDX     #$53
        LDY     L00F9
        LDA     #$FF
        JSR     LFFDD

        JSR     L8943

        LDY     #$65
        LDA     (L00F8),Y
        STA     L00DC
        INY
        LDA     (L00F8),Y
        STA     L00DD
        LDY     #$02
        LDA     (L00DC),Y
        CLC
        RTS

.LA72E
        JSR     generate_error

        EQUS    $85,"Not enough room",$00

.LA742
        TXA
        PHA
        TYA
        PHA
        LDA     #$00
        TAY
        LDX     #$A8
        JSR     LFFDA

        AND     #$FC
        BNE     LA75B

        LDA     #$8B
        LDX     #$01
        LDY     #$01
        JSR     osbyte

.LA75B
        PLA
        TAY
        PLA
        TAX
        JMP     L8943

.LA762
        JSR     LB865

.LA765
        JSR     LA784

        BEQ     LA76B

        RTS

.LA76B
        JSR     generate_error

        EQUS    $86,"Sprite doesn't exist",$00

.LA784
        PHA
        LDY     #$4A
        LDA     (L00F8),Y
        BEQ     LA7A8

        PLA
        JSR     LB7D7

        BEQ     LA79D

        LDY     #$4C
        STA     (L00F8),Y
        INY
        LDA     L00DD
        STA     (L00F8),Y
        CPX     #$00
        RTS

.LA79D
        LDY     #$4C
        TXA
        STA     (L00F8),Y
        INY
        STA     (L00F8),Y
        CPX     #$00
        RTS

.LA7A8
        JMP     L81DD

.LA7AB
        JSR     LB865

        PHA
        JSR     LB849

        STX     L00DE
        STY     L00DF
        PLA
        PHA
        JSR     LB7D7

        BEQ     LA7EA

        LDY     #$00
        LDA     (L00DE),Y
        CMP     #$2C
        BNE     LA7ED

        LDX     L00DE
        LDY     L00DF
        INX
        BNE     LA7CD

        INY
.LA7CD
        JSR     LB865

        PLA
        PHA
        CMP     L00DE
        BEQ     LA7FF

        LDA     L00DE
        PHA
        JSR     LAACA

        PLA
        STA     L00DE
        PLA
        JSR     LB7D7

        LDY     #$05
        LDA     L00DE
        STA     (L00DC),Y
        RTS

.LA7EA
        JMP     LA76B

.LA7ED
        JSR     generate_error

        EQUS    $87,"Missing comma",$00

.LA7FF
        JSR     generate_error

        EQUS    $88,"Sprite numbers are equal",$00

.LA81C
        LDY     #$00
        BEQ     LA822

.LA820
        LDY     #$07
.LA822
        LDX     #$00
        JSR     LB8DB

        JSR     LA85D

        JSR     print_inline_counted

        EQUB    $08

        EQUS    $19,$04,$0F,$00,$07,$00,$19,$05

.LA836
        JSR     LB8C3

        JSR     print_inline_counted

        EQUB    $04

        EQUS    $07,$00,$19,$05

.LA841
        JSR     LB8C3

        JSR     LB8CF

        JSR     print_inline_counted

        EQUB    $04

        EQUS    $19,$05,$0F,$00

.LA84F
        JSR     LB8CF

        JSR     print_inline_counted

        EQUB    $06

        EQUS    $19,$05,$0F,$00,$07,$00

.LA85C
        RTS

.LA85D
        LDA     L033D
        PHA
        LDA     L033C
        PHA
        LDA     L0342
        STA     L033D
        LDA     L0340
        STA     L033C
        INC     L033C
        INC     L033D
        JSR     LAA5C

        PLA
        STA     L033C
        PLA
        STA     L033D
        RTS

.LA883
        LDA     #$00
        STA     L035B
        STA     L033C
        JSR     LAA5C

        JSR     LA9F3

        LDA     #$00
        STA     L033C
.LA896
        LDA     L0362
        STA     L033E
        LDY     #$00
        LDA     (L00AE),Y
        STA     L0330
.LA8A3
        LDA     L0330
        AND     L0362
        STA     L0359
        LDX     L0361
.LA8AF
        LSR     L0359
        ORA     L0359
        DEX
        BNE     LA8AF

        STA     L0359
        LDX     #$04
        JSR     LB8BA

        JSR     LB8C3

        JSR     LA9D2

        SEC
        LDX     L0355
        LDA     LAA50,X
        ADC     L0344
        STA     L0344
        BCC     LA8D8

        INC     L0345
.LA8D8
        ASL     L0330
        LSR     L033E
        BCC     LA8A3

        LDA     L00AE
        BNE     LA8E6

        DEC     L00AF
.LA8E6
        DEC     L00AE
        INC     L033C
        LDA     L0340
        CMP     L033C
        BCS     LA896

        RTS

.LA8F4
        LDA     #$00
        STA     L035B
        STA     L033D
        JSR     LAA5C

        JSR     LA9F3

.LA902
        JSR     LB4BB

        STA     L0359
        JSR     LA9B7

        SEC
        LDX     L0355
        LDA     LAA4C,X
        ADC     L0346
        STA     L0346
        BCC     LA91D

        INC     L0347
.LA91D
        LDY     #$00
        CLC
        LDA     L00AE
        SBC     (L00AC),Y
        STA     L00AE
        BCS     LA92A

        DEC     L00AF
.LA92A
        INC     L033D
        LDA     L0342
        CMP     L033D
        BCS     LA902

        RTS

.LA936
        LDA     L033D
        PHA
        LDA     L033C
        PHA
        LDA     L033E
        PHA
        LDA     #$00
        STA     L033D
.LA947
        JSR     LA883

        INC     L033D
        LDA     L0342
        CMP     L033D
        BCS     LA947

        PLA
        STA     L033E
        PLA
        STA     L033C
        PLA
        STA     L033D
        RTS

.LA962
        JSR     LA96B

.LA965
        JSR     LAB41

.LA968
        JSR     LA936

.LA96B
        LDX     #$04
        JSR     LB8BA

        JSR     LAA5C

        LDX     L0355
        LDA     LAA50,X
        LSR     A
        CLC
        ADC     L0343
        LDY     L0345
        BCC     LA984

        INY
.LA984
        CLC
        ADC     L0344
        BCC     LA98B

        INY
.LA98B
        JSR     oswrch

        TYA
        JSR     oswrch

        LDA     LAA4C,X
        LSR     A
        CLC
        ADC     L0346
        LDY     L0347
        BCC     LA9A0

        INY
.LA9A0
        JSR     oswrch

        TYA
        JSR     oswrch

        JSR     print_inline_counted

        EQUB    $09

        EQUS    $12,$03,$07,$19,$91,$00,$00,$07,$00

.LA9B4
        JMP     LA9F3

.LA9B7
        LDX     #$04
        JSR     LB8BA

        LDA     L0344
        CLC
        ADC     L0343
        TAX
        LDA     L0345
        ADC     #$00
        TAY
        TXA
        JSR     oswrch

        TYA
        JSR     oswrch

.LA9D2
        JSR     LB8CF

        LDX     #$61
        JSR     LB8BA

        LDX     L0355
        LDA     LAA50,X
        JSR     oswrch

        LDA     #$00
        JSR     oswrch

        LDA     LAA4C,X
        JSR     oswrch

        LDA     #$00
        JMP     oswrch

.LA9F3
        LDY     #$00
        LDA     (L00AC),Y
        TAX
        INX
        CLC
        LDA     L033D
        ADC     L0341
        TAY
        JSR     LB8E8

        CLC
        LDA     L00DE
        ADC     L033C
        LDX     L00DF
        BCC     LAA0F

        INX
.LAA0F
        CLC
        ADC     L033F
        STA     L00DE
        BCC     LAA18

        INX
.LAA18
        STX     L00DF
        CLC
        LDY     #$02
        LDA     (L00AC),Y
        ADC     L00AC
        PHA
        INY
        LDA     (L00AC),Y
        ADC     L00AD
        TAX
        PLA
        CLC
        ADC     #$05
        BCC     LAA2F

        INX
.LAA2F
        SEC
        SBC     L00DE
        STA     L00AE
        TXA
        SBC     L00DF
        STA     L00AF
        RTS

.LAA3A
        EQUB    $08,$07,$07,$FF,$08,$08

.LAA40
        EQUB    $0B,$17,$17,$FF,$17,$17

.LAA46
        EQUB    $02,$05,$05,$FF,$02,$02

.LAA4C
        EQUB    $3F,$1F,$1F,$FF

.LAA50
        EQUB    $1F,$1F,$3F,$FF,$1F,$3F

.LAA56
        EQUB    $E0,$60,$40,$FF,$E0,$C0

.LAA5C
        LDA     #$00
        STA     L0345
        STA     L0347
        LDX     L0355
        LDA     LAA3A,X
        TAX
        LDA     L033C
.LAA6E
        ASL     A
        ROL     L0345
        DEX
        BNE     LAA6E

        ADC     #$10
        STA     L0344
        LDA     L0345
        ADC     #$00
        STA     L0345
        LDX     #$05
        LDA     L0355
        BNE     LAA8B

        LDX     #$06
.LAA8B
        LDA     L033D
.LAA8E
        ASL     A
        ROL     L0347
        DEX
        BNE     LAA8E

        ADC     #$08
        STA     L0346
        LDA     L0347
        ADC     #$00
        STA     L0347
        RTS

.LAAA3
        JSR     LB7B7

        LDX     L00DA
        LDY     L00DB
.LAAAA
        JSR     LB865

        TXA
        PHA
        TYA
        PHA
        LDA     L00DE
        JSR     LAACA

        PLA
        TAY
        PLA
        TAX
        JSR     LB849

        STX     L00DA
        STY     L00DB
        LDY     #$00
        LDA     (L00DA),Y
        CMP     #$2C
        BEQ     LAAA3

        RTS

.LAACA
        JSR     LB7D7

        STA     L00DA
        STY     L00DB
        CPX     #$00
        BEQ     LAAFD

        JSR     L8A6B

        SEC
        LDY     #$4B
        LDA     (L00F8),Y
        SBC     #$01
        STA     (L00F8),Y
        DEX
        BEQ     LAAFD

        JSR     LB7FF

.LAAE7
        CLC
        LDY     #$02
        LDA     (L00DC),Y
        ADC     #$06
        STA     L00DE
        INY
        LDA     (L00DC),Y
        ADC     #$00
        STA     L00DF
        JSR     L8D84

        DEX
        BNE     LAAE7

.LAAFD
        RTS

.LAAFE
        JSR     L8943

        LDA     L00DC
        PHA
        LDA     L00DD
        PHA
        LDY     #$05
        LDA     (L00DC),Y
        JSR     LAACA

        PLA
        STA     L00DD
        PLA
        STA     L00DC
        CLC
        LDY     #$02
        LDA     (L00DC),Y
        ADC     #$06
        STA     L00DE
        INY
        LDA     (L00DC),Y
        ADC     #$00
        STA     L00DF
        JSR     L8D84

        CLC
        LDY     #$4B
        LDA     (L00F8),Y
        ADC     #$01
        STA     (L00F8),Y
        RTS

.LAB31
        JSR     print_inline_counted

        EQUB    $0C

        EQUS    $19,$04,$98,$03,$C8,$00,$19,"g",$C4,$04," ",$03

.LAB41
        JSR     L8943

        LDY     #$4C
        LDA     L00AC
        STA     (L00F8),Y
        INY
        LDA     L00AD
        STA     (L00F8),Y
        JSR     print_inline_counted

        EQUB    $13

        EQUS    $18,$A8,$03,$C8,$00,$B0,$04," ",$03,$12,$00,$07,$19,$ED,$A8,$03,$C8,$00,$1A

.LAB66
        RTS

        EQUB    $00,$00,$01,$00,$02,$00,$00

.LAB6E
        JMP     LA72E

.LAB71
        JSR     LB865

        STA     L0329
        STA     L032A
        JSR     LB849

        STX     L00DA
        STY     L00DB
        LDY     #$00
        LDA     (L00DA),Y
        CMP     #$2C
        BNE     LAB96

        JSR     LB7B7

        LDX     L00DA
        LDY     L00DB
        JSR     LB865

        STA     L032A
.LAB96
        LDA     L032A
        CMP     L0329
        BEQ     LABA1

        JSR     LAACA

.LABA1
        JSR     L8943

        JSR     LB818

        LDA     L00DC
        STA     L00DA
        LDA     L00DD
        STA     L00DB
        LDA     L0329
        JSR     LB7D7

        BEQ     LABDC

        LDA     L0329
        CMP     L032A
        BNE     LABE4

        STX     L032B
        SEC
        LDY     #$4B
        LDA     (L00F8),Y
        SBC     L032B
        STA     (L00F8),Y
        SEC
        LDA     L00DA
        SBC     L00DC
        STA     L00DE
        LDA     L00DB
        SBC     L00DD
        STA     L00DF
        JMP     LAC0A

.LABDC
        LDA     #$67
        STA     L00DC
        LDA     #$AB
        STA     L00DD
.LABE4
        LDA     L00DF
        PHA
        LDA     L00DE
        PHA
        CLC
        LDY     #$02
        LDA     (L00DC),Y
        ADC     #$06
        STA     L00DE
        INY
        LDA     (L00DC),Y
        ADC     #$00
        STA     L00DF
        PLA
        CMP     L00DE
        PLA
        SBC     L00DF
        BCS     LAC05

        JMP     LAB6E

.LAC05
        LDA     #$01
        STA     L032B
.LAC0A
        SEC
        LDY     #$4F
        LDA     #$00
        SBC     L00DE
        STA     L00DA
        STA     L00AC
        LDA     (L00F8),Y
        SBC     L00DF
        STA     L00DB
        STA     L00AD
        JSR     L8D9F

        LDA     L032A
        LDY     #$05
        STA     (L00AC),Y
        JSR     L8943

        JSR     LB16F

        LDA     L0355
        LDY     #$04
        STA     (L00AC),Y
        LDY     #$49
        LDA     (L00F8),Y
        AND     #$FE
        STA     (L00F8),Y
        LDA     #$00
        STA     L033F
        STA     L0341
        STA     L033C
        STA     L033D
        STA     L0343
        LDA     L0362
        STA     L033E
        LDA     #$07
        STA     L0348
        LDX     L0355
        LDY     #$00
        LDA     (L00AC),Y
        CMP     LAA46,X
        BCC     LAC67

        LDA     LAA46,X
.LAC67
        STA     L0340
        INY
        LDA     (L00AC),Y
        CMP     LAA40,X
        BCC     LAC75

        LDA     LAA40,X
.LAC75
        STA     L0342
        JSR     print_inline_counted

        EQUB    $0F

        EQUS    $04,$1A,$11,$80,$0C,$17,$01,$00,$00,$00,$00,$00,$00,$00,$00

.LAC8B
        LDA     #$04
        LDX     #$02
        JSR     osbyte

        LDA     #$E1
        LDX     #$90
        LDY     #$00
        JSR     osbyte

        LDA     #$E2
        LDX     #$80
        LDY     #$00
        JSR     osbyte

        LDA     #$E3
        LDX     #$A0
        LDY     #$00
        JSR     osbyte

        JSR     LB902

        JSR     LA820

        JSR     LA965

.LACB6
        JSR     LB902

        LDA     #$0F
        TAX
        JSR     osbyte

        JSR     LFFE0

        BCS     LAD0E

        CMP     #$0D
        BNE     LACCE

        JSR     LADE3

        JMP     LACB6

.LACCE
        CMP     #$7F
        BNE     LACD8

        JSR     LADC3

        JMP     LACB6

.LACD8
        CMP     #$30
        BCC     LACB6

        CMP     #$3A
        BCC     LACF5

        CMP     #$41
        BCC     LACB6

        CMP     #$47
        BCC     LACF2

        CMP     #$61
        BCC     LACB6

        CMP     #$67
        BCS     LACFE

        SBC     #$1F
.LACF2
        SEC
        SBC     #$07
.LACF5
        SEC
        SBC     #$30
        STA     L0348
        JMP     LACB6

.LACFE
        CMP     #$80
        BCC     LACB6

        CMP     #$B0
        BCS     LACB6

        ASL     A
        TAX
        JSR     LAD56

        JMP     LACB6

.LAD0E
        LDY     #$05
        LDA     (L00AC),Y
        PHA
        LDA     L00AC
        STA     L00DC
        LDA     L00AD
        STA     L00DD
        JSR     LB15F

        LDX     L032B
        JSR     LA685

        PLA
        JSR     LA784

        LDA     #$7C
        JSR     osbyte

        LDA     #$E1
        LDX     #$01
        LDY     #$00
        JSR     osbyte

        LDA     #$E2
        LDX     #$80
        LDY     #$00
        JSR     osbyte

        LDA     #$E3
        LDX     #$90
        LDY     #$00
        JSR     osbyte

        LDA     #$04
        JSR     oswrch

        LDA     #$04
        LDX     #$00
        LDY     #$00
        JMP     osbyte

.LAD56
        LDA     LAD63,X
        STA     L00DA
        LDA     LAD64,X
        STA     L00DB
        JMP     (L00DA)

.LAD63
        EQUB    $10

.LAD64
        EQUB    $AE,$10,$AE,$10,$AE,$0B,$B2,$59
        EQUB    $B2,$41,$B5,$57,$B6,$10,$AE,$10
        EQUB    $AE,$10,$AE,$10,$AE,$10,$AE,$2A
        EQUB    $B0,$78,$B0,$D6,$B0,$1B,$B1,$BF
        EQUB    $B3,$35,$B4,$C8,$B3,$81,$B1,$C3
        EQUB    $B1,$F3,$B4,$CE,$B5,$01,$B7,$57
        EQUB    $B7,$10,$AE,$10,$AE,$CB,$AD,$0A
        EQUB    $AF,$69,$AF,$C9,$AF,$EE,$AF,$10
        EQUB    $AE,$10,$AE,$10,$AE,$10,$AE,$10
        EQUB    $AE,$10,$AE,$10,$AE,$10,$AE,$10
        EQUB    $AE,$10,$AE,$10,$AE,$10,$AE,$1C
        EQUB    $B0,$64,$B0,$C8,$B0,$07,$B1

.LADC3
        LDA     L0348
        PHA
        LDA     #$00
        BEQ     LADD1

        LDA     L0348
        PHA
        LDA     #$07
.LADD1
        STA     L0348
        JSR     LADE3

        PLA
        STA     L0348
.LADDB
        RTS

.LADDC
        LDY     #$49
        LDA     (L00F8),Y
        LSR     A
        BCC     LADDB

.LADE3
        JSR     LA96B

        JSR     LADF2

        JSR     LA9B7

        JSR     LAB41

        JMP     LA96B

.LADF2
        LDX     #$00
        LDY     L0348
        JSR     LB8DB

        LDA     L0359
        AND     L033E
        STA     L00DA
        LDY     #$00
        LDA     (L00AE),Y
        ORA     L033E
        EOR     L033E
        ORA     L00DA
        STA     (L00AE),Y
        RTS

.LAE11
        LDA     L033C
        PHA
        LDA     L033D
        PHA
        LDA     L033E
        PHA
        TXA
        PHA
        TYA
        PHA
        LDY     #$00
        JSR     LAED8

        PLA
        TAX
        LDY     L0342
        INY
        JSR     LAEB1

        PLA
        PHA
        EOR     #$01
        TAX
        LDY     #$00
        JSR     LAEEC

        PLA
        TAX
        BEQ     LAE40

        LDX     L0340
.LAE40
        STX     L033C
        LDA     L0343
        PHA
        LDA     #$00
        STA     L0343
        LDA     L0362
        STA     L033E
.LAE52
        JSR     LA8F4

        SEC
        LDX     L0355
        LDA     LAA50,X
        ADC     L0343
        STA     L0343
        LSR     L033E
        BCC     LAE52

        PLA
        STA     L0343
        JMP     LAEA2

.LAE6E
        LDA     L033C
        PHA
        LDA     L033D
        PHA
        LDA     L033E
        PHA
        TXA
        PHA
        LDX     L0340
        INX
        JSR     LAEB1

        PLA
        PHA
        TAY
        LDX     #$00
        JSR     LAED8

        PLA
        PHA
        EOR     #$01
        TAY
        LDX     #$00
        JSR     LAEEC

        PLA
        TAY
        BEQ     LAE9C

        LDY     L0342
.LAE9C
        STY     L033D
        JSR     LA883

.LAEA2
        PLA
        STA     L033E
        PLA
        STA     L033D
        PLA
        STA     L033C
        JMP     LA96B

.LAEB1
        STX     L033C
        STY     L033D
        LDX     #$04
        JSR     LB8BA

        JSR     LAA5C

        LDA     L0344
        BNE     LAEC7

        DEC     L0345
.LAEC7
        DEC     L0344
        LDA     L0346
        BNE     LAED2

        DEC     L0347
.LAED2
        DEC     L0346
        JMP     LAEE6

.LAED8
        STX     L033C
        LDX     #$04
.LAEDD
        STY     L033D
        JSR     LB8BA

        JSR     LAA5C

.LAEE6
        JSR     LB8C3

        JMP     LB8CF

.LAEEC
        STX     L033C
        LDX     #$05
.LAEF1
        LDA     L033E,X
        PHA
        DEX
        BPL     LAEF1

        LDX     #$BE
        JSR     LAEDD

        LDX     #$00
        LDY     #$05
.LAF01
        PLA
        STA     L033E,X
        INX
        DEY
        BPL     LAF01

        RTS

        JSR     LADDC

        LDA     L033E
        ASL     A
        BCS     LAF29

        STA     L033E
        JSR     LA96B

        CLC
        LDX     L0355
        LDA     L0343
        SBC     LAA50,X
        STA     L0343
        JMP     LA96B

.LAF29
        LDA     L033C
        BEQ     LAF46

        JSR     LA96B

        DEC     L033C
        LDA     L0363
        STA     L033E
        LDX     L0355
        LDA     LAA56,X
        STA     L0343
        JMP     LA96B

.LAF46
        LDA     L033F
        BNE     LAF4C

        RTS

.LAF4C
        JSR     LA96B

        DEC     L033F
        LDA     L0363
        STA     L033E
        LDX     L0355
        LDA     LAA56,X
        STA     L0343
        LDX     #$00
        LDY     L0340
        JMP     LAE11

        JSR     LADDC

        LDA     L033E
        LSR     A
        BCS     LAF88

        STA     L033E
        JSR     LA96B

        SEC
        LDX     L0355
        LDA     L0343
        ADC     LAA50,X
        STA     L0343
        JMP     LA96B

.LAF88
        LDA     L033C
        CMP     L0340
        BEQ     LAFA4

        JSR     LA96B

        INC     L033C
        LDA     L0362
        STA     L033E
        LDA     #$00
        STA     L0343
        JMP     LA96B

.LAFA4
        CLC
        ADC     L033F
        LDY     #$00
        CMP     (L00AC),Y
        BNE     LAFAF

        RTS

.LAFAF
        JSR     LA96B

        INC     L033F
        LDA     L0362
        STA     L033E
        LDA     #$00
        STA     L0343
        LDX     #$01
        LDY     L0340
        INY
        JMP     LAE11

        JSR     LADDC

        LDA     L033D
        BEQ     LAFDA

        JSR     LA96B

        DEC     L033D
        JMP     LA96B

.LAFDA
        LDA     L0341
        BNE     LAFE0

        RTS

.LAFE0
        JSR     LA96B

        DEC     L0341
        LDX     #$00
        LDY     L0342
        JMP     LAE6E

        JSR     LADDC

        LDA     L033D
        CMP     L0342
        BEQ     LB002

        JSR     LA96B

        INC     L033D
        JMP     LA96B

.LB002
        CLC
        ADC     L0341
        LDY     #$01
        CMP     (L00AC),Y
        BNE     LB00D

        RTS

.LB00D
        JSR     LA96B

        INC     L0341
        LDX     #$01
        LDY     L0342
        INY
        JMP     LAE6E

        JSR     LA96B

        LDA     #$00
        STA     L033F
        JSR     LA936

        JMP     LB053

        JSR     LA96B

        SEC
        LDA     L033F
        SBC     #$02
        LDX     L033F
        BEQ     LB04A

        BCC     LB040

        STA     L033F
        JMP     LA968

.LB040
        PHA
        LDA     #$00
        STA     L033F
        JSR     LA936

        PLA
.LB04A
        CLC
        ADC     L033C
        STA     L033C
        BPL     LB061

.LB053
        LDA     #$00
        STA     L033C
        STA     L0343
        LDA     L0362
.LB05E
        STA     L033E
.LB061
        JMP     LA96B

        JSR     LA96B

        SEC
        LDY     #$00
        LDA     (L00AC),Y
        SBC     L0340
        STA     L033F
        JSR     LA936

        JMP     LB0B4

        JSR     LA96B

        SEC
        LDY     #$00
        LDA     (L00AC),Y
        SBC     L0340
        TAX
        CLC
        LDA     L033F
        ADC     #$02
        CPX     L033F
        BEQ     LB0A2

        STX     L033F
        CMP     L033F
        BCS     LB09D

        STA     L033F
        JMP     LA968

.LB09D
        PHA
        JSR     LA936

        PLA
.LB0A2
        SEC
        SBC     L033F
        CLC
        ADC     L033C
        STA     L033C
        CMP     L0340
        BEQ     LB061

        BCC     LB061

.LB0B4
        LDA     L0340
        STA     L033C
        LDX     L0355
        LDA     LAA56,X
        STA     L0343
        LDA     L0363
        BNE     LB05E

        JSR     LA96B

        LDA     #$00
        STA     L0341
        JSR     LA936

        JMP     LB0FF

        JSR     LA96B

        SEC
        LDA     L0341
        SBC     #$08
        LDX     L0341
        BEQ     LB0F6

        BCC     LB0EC

        STA     L0341
        JMP     LA968

.LB0EC
        PHA
        LDA     #$00
        STA     L0341
        JSR     LA936

        PLA
.LB0F6
        CLC
        ADC     L033D
        STA     L033D
        BPL     LB104

.LB0FF
        LDA     #$00
        STA     L033D
.LB104
        JMP     LA96B

        JSR     LA96B

        SEC
        LDY     #$01
        LDA     (L00AC),Y
        SBC     L0342
        STA     L0341
        JSR     LA936

        JMP     LB156

        JSR     LA96B

        SEC
        LDY     #$01
        LDA     (L00AC),Y
        SBC     L0342
        TAX
        LDA     L0341
        ADC     #$07
        CPX     L0341
        BEQ     LB144

        STX     L0341
        CMP     L0341
        BCS     LB13F

        STA     L0341
        JMP     LA968

.LB13F
        PHA
        JSR     LA936

        PLA
.LB144
        SEC
        SBC     L0341
        CLC
        ADC     L033D
        STA     L033D
        CMP     L0342
        BEQ     LB15C

        BCC     LB15C

.LB156
        LDA     L0342
        STA     L033D
.LB15C
        JMP     LA96B

.LB15F
        TYA
        PHA
        LDY     #$52
        LDA     (L00F8),Y
        STA     L032B
        LDA     #$00
        STA     (L00F8),Y
        PLA
        TAY
        RTS

.LB16F
        LDY     #$50
        LDA     L00AC
        STA     (L00F8),Y
        INY
        LDA     L00AD
        STA     (L00F8),Y
        INY
        LDA     L032B
        STA     (L00F8),Y
        RTS

.LB181
        LDY     #$01
        LDA     (L00AC),Y
        CMP     #$FE
        BCS     LB1B1

        DEY
        JSR     LB2EE

        BCS     LB1B1

        LDY     #$00
        LDA     (L00AC),Y
        TAX
        INX
        TYA
.LB196
        STA     (L00DA),Y
        INY
        DEX
        BNE     LB196

        LDX     L0355
        LDA     L0342
        CMP     LAA40,X
        BCS     LB1B0

        JSR     LA81C

        INC     L0342
        JSR     LA820

.LB1B0
        CLC
.LB1B1
        RTS

.LB1B2
        JSR     LA85D

        LDX     #$67
        JSR     LB8BA

        JSR     LB8C3

        JSR     LB8CF

        JMP     LA820

        LDY     #$00
        LDA     (L00AC),Y
        CMP     #$FE
        BCS     LB20A

        INY
        JSR     LB2EE

        BCS     LB20A

        LDY     #$01
        LDA     (L00AC),Y
        TAX
        INX
        DEY
.LB1D8
        TYA
        STA     (L00DA),Y
        JSR     LB7B7

        TXA
        PHA
        LDA     (L00AC),Y
        TAX
.LB1E3
        LDA     (L00DC),Y
        STA     (L00DA),Y
        JSR     LB7BE

        JSR     LB7B7

        DEX
        BNE     LB1E3

        PLA
        TAX
        DEX
        BNE     LB1D8

        LDX     L0355
        LDA     L0340
        CMP     LAA46,X
        BCS     LB209

        JSR     LA81C

        INC     L0340
        JSR     LA820

.LB209
        CLC
.LB20A
        RTS

.LB20B
        SEC
        LDY     #$01
        LDA     (L00AC),Y
        BEQ     LB258

        DEY
        JSR     LB378

        JSR     LA96B

        JSR     LAB31

        SEC
        LDY     #$01
        LDA     (L00AC),Y
        SBC     L0341
        CMP     L033D
        BCS     LB22C

        DEC     L033D
.LB22C
        CMP     L0342
        BCS     LB253

        LDA     L0341
        BNE     LB249

        DEC     L0342
        JSR     print_inline_counted

        EQUB    $06

        EQUS    $19,$04,$00,$00," ",$03

.LB243
        JSR     LB1B2

        SEC
        BCS     LB253

.LB249
        DEC     L0341
        INC     L033D
        JSR     LA936

        CLC
.LB253
        PHP
        JSR     LA96B

        PLP
.LB258
        RTS

        LDY     #$00
        LDA     (L00AC),Y
        BEQ     LB258

        LDA     L00AC
        STA     L00DC
        LDA     L00AD
        STA     L00DD
        JSR     LB7FF

        JSR     LB7CE

        LDA     L00DC
        STA     L00DA
        LDA     L00DD
        STA     L00DB
        LDY     #$01
        LDA     (L00AC),Y
        TAX
        INX
        LDY     #$00
.LB27D
        TXA
        PHA
        LDY     #$00
        LDA     (L00AC),Y
        TAX
.LB284
        LDA     (L00DC),Y
        STA     (L00DA),Y
        JSR     LB7CE

        JSR     LB7C5

        DEX
        BNE     LB284

        JSR     LB7CE

        PLA
        TAX
        DEX
        BNE     LB27D

        LDY     #$01
        JSR     LB378

        JSR     LA96B

        JSR     LAB31

        SEC
        LDY     #$00
        LDA     (L00AC),Y
        SBC     L033F
        PHA
        CMP     L033C
        BCS     LB2C4

        DEC     L033C
        LDA     L0363
        STA     L033E
        LDX     L0355
        LDA     LAA56,X
        STA     L0343
.LB2C4
        PLA
        CMP     L0340
        BCS     LB2EB

        LDA     L033F
        BNE     LB2E2

        DEC     L0340
        JSR     print_inline_counted

        EQUB    $06

        EQUS    $19,$04,$84,$03,$00,$00

.LB2DC
        JSR     LB1B2

        JMP     LB2EB

.LB2E2
        DEC     L033F
        INC     L033C
        JSR     LA936

.LB2EB
        JMP     LA96B

.LB2EE
        JSR     L8943

        JSR     LB15F

        JSR     LB818

        TYA
        TAX
        CLC
        LDA     L00AC
        SBC     (L00AC),Y
        STA     L00DA
        LDA     L00AD
        SBC     #$00
        STA     L00DB
        LDA     L00DA
        CMP     L00DC
        LDA     L00DB
        SBC     L00DD
        BCC     LB34C

        SEC
        LDA     (L00AC),Y
        LDY     #$02
        ADC     (L00AC),Y
        STA     (L00AC),Y
        INY
        LDA     #$00
        ADC     (L00AC),Y
        STA     (L00AC),Y
        TXA
        EOR     #$01
        TAY
        CLC
        LDA     #$01
        ADC     (L00AC),Y
        STA     (L00AC),Y
        LDY     #$01
.LB32D
        LDA     L00AC,Y
        STA     L00DC,Y
        LDA     L00DA,Y
        STA     L00AC,Y
        DEY
        BPL     LB32D

        LDA     #$06
        STA     L00DE
        LDA     #$00
        STA     L00DF
        JSR     L8D84

        JSR     LB16F

        CLC
        RTS

.LB34C
        JSR     LB16F

        JSR     print_inline_counted

        EQUB    $09

        EQUS    $07,"No room",$0D

.LB35C
        LDA     #$0F
        TAX
        JSR     osbyte

        LDA     #$81
        LDX     #$96
        LDY     #$00
        JSR     osbyte

        JSR     print_inline_counted

        EQUB    $07

        EQUS    "       "

.LB376
        SEC
        RTS

.LB378
        JSR     LB15F

        TYA
        TAX
        CLC
        LDA     (L00AC),Y
        STA     L00DA
        LDY     #$02
        LDA     (L00AC),Y
        SBC     L00DA
        STA     (L00AC),Y
        INY
        LDA     (L00AC),Y
        SBC     #$00
        STA     (L00AC),Y
        SEC
        LDA     L00AC
        STA     L00DC
        ADC     L00DA
        STA     L00DA
        STA     L00AC
        LDA     L00AD
        STA     L00DD
        ADC     #$00
        STA     L00DB
        STA     L00AD
        LDA     #$06
        STA     L00DE
        LDA     #$00
        STA     L00DF
        JSR     L8D9F

        TXA
        EOR     #$01
        TAY
        SEC
        LDA     (L00AC),Y
        SBC     #$01
        STA     (L00AC),Y
        JMP     LB16F

        LDY     #$49
        LDA     (L00F8),Y
        EOR     #$01
        STA     (L00F8),Y
        RTS

        JSR     LA96B

        LDA     L033D
        PHA
        CLC
        LDA     L0341
        ADC     L033D
        STA     L033D
        PHA
        LDA     L00AE
        PHA
        LDA     L00AF
        PHA
        JSR     LB4BB

        JSR     LADF2

.LB3E6
        LDY     #$01
        LDA     L033D
        CMP     (L00AC),Y
        LDY     #$00
        BCS     LB404

        INC     L033D
        CLC
        LDA     L00AE
        SBC     (L00AC),Y
        STA     L00AE
        BCS     LB3FF

        DEC     L00AF
.LB3FF
        JSR     LB4E1

        BCC     LB3E6

.LB404
        PLA
        STA     L00AF
        PLA
        STA     L00AE
        PLA
        STA     L033D
.LB40E
        LDY     #$00
        LDA     L033D
        BEQ     LB428

        DEC     L033D
        SEC
        LDA     L00AE
        ADC     (L00AC),Y
        STA     L00AE
        BCC     LB423

        INC     L00AF
.LB423
        JSR     LB4E1

        BCC     LB40E

.LB428
        JSR     LAB41

        JSR     LA8F4

        PLA
        STA     L033D
        JMP     LA96B

        JSR     LA96B

        LDA     L033C
        PHA
        LDA     L033E
        PHA
        PHA
        CLC
        LDA     L033F
        ADC     L033C
        STA     L033C
        PHA
        LDA     L00AE
        PHA
        LDA     L00AF
        PHA
        JSR     LB4BB

        JSR     LADF2

.LB458
        LSR     L033E
        BCC     LB477

        LDA     L0362
        STA     L033E
        LDY     #$00
        LDA     L033C
        CMP     (L00AC),Y
        BCS     LB47C

        INC     L033C
        LDA     L00AE
        BNE     LB475

        DEC     L00AF
.LB475
        DEC     L00AE
.LB477
        JSR     LB4E1

        BCC     LB458

.LB47C
        PLA
        STA     L00AF
        PLA
        STA     L00AE
        PLA
        STA     L033C
        PLA
        STA     L033E
.LB48A
        ASL     L033E
        BCC     LB4A5

        LDA     L0363
        STA     L033E
        LDY     #$00
        LDA     L033C
        BEQ     LB4AA

        DEC     L033C
        INC     L00AE
        BNE     LB4A5

        INC     L00AF
.LB4A5
        JSR     LB4E1

        BCC     LB48A

.LB4AA
        JSR     LAB41

        JSR     LA883

        PLA
        STA     L033E
        PLA
        STA     L033C
        JMP     LA96B

.LB4BB
        LDY     #$00
        LDA     (L00AE),Y
        AND     L033E
        STA     L0328
        LDA     L033E
        BMI     LB4D0

.LB4CA
        ASL     L0328
        ASL     A
        BPL     LB4CA

.LB4D0
        LDX     L0361
        LDA     L0328
.LB4D6
        LSR     A
        ORA     L0328
        DEX
        BNE     LB4D6

        STA     L0328
        RTS

.LB4E1
        LDY     #$00
        LDA     (L00AE),Y
        EOR     L0328
        AND     L033E
        SEC
        BNE     LB4F2

        JSR     LADF2

        CLC
.LB4F2
        RTS

        JSR     LB181

        BCS     LB540

        CLC
        LDA     L00AC
        ADC     #$05
        STA     L00DC
        LDA     L00AD
        ADC     #$00
        STA     L00DD
        LDY     #$01
        SEC
        LDA     (L00AC),Y
        SBC     L0341
        SEC
        SBC     L033D
        DEY
        TAX
.LB513
        LDA     L00DC
        STA     L00DA
        SEC
        LDA     (L00AC),Y
        TAY
        INY
        ADC     L00DC
        STA     L00DC
        LDA     L00DD
        STA     L00DB
        BCC     LB528

        INC     L00DD
.LB528
        LDA     (L00DC),Y
        STA     (L00DA),Y
        DEY
        BNE     LB528

        DEX
        BNE     LB513

        LDA     (L00AC),Y
        TAY
        INY
.LB536
        LDA     #$00
        STA     (L00DC),Y
        DEY
        BNE     LB536

        JMP     LA962

.LB540
        RTS

        LDY     #$01
        LDA     (L00AC),Y
        BEQ     LB59A

        SEC
        SBC     L0341
        SEC
        SBC     L033D
        BEQ     LB592

        TAX
        DEY
        LDA     (L00AC),Y
        TAY
        INY
        JSR     LB8E8

        CLC
        LDA     L00AC
        ADC     L00DE
        STA     L00DC
        LDA     L00AD
        ADC     L00DF
        STA     L00DD
        LDA     L00DC
        ADC     #$05
        STA     L00DC
        BCC     LB571

        INC     L00DD
.LB571
        LDY     #$00
.LB573
        CLC
        LDA     L00DC
        STA     L00DA
        SBC     (L00AC),Y
        STA     L00DC
        LDA     L00DD
        STA     L00DB
        SBC     #$00
        STA     L00DD
        LDA     (L00AC),Y
        TAY
        INY
.LB588
        LDA     (L00DC),Y
        STA     (L00DA),Y
        DEY
        BNE     LB588

        DEX
        BNE     LB573

.LB592
        JSR     LB20B

        BCC     LB59A

        JMP     LA962

.LB59A
        RTS

.print_inline_counted
        PLA
        STA     L00DA
        PLA
        STA     L00DB
        TXA
        PHA
        TYA
        PHA
        JSR     LB7B7

        LDY     #$00
        LDA     (L00DA),Y
        TAX
        JSR     LB7B7

.LB5B0
        LDA     L00DA
        PHA
        LDA     L00DB
        PHA
        LDA     (L00DA),Y
        JSR     oswrch

        PLA
        STA     L00DB
        PLA
        STA     L00DA
        JSR     LB7B7

        DEX
        BNE     LB5B0

        PLA
        TAY
        PLA
        TAX
        JMP     (L00DA)

        JSR     LB6D9

        STA     L00DC
        LDY     #$01
        LDA     (L00AC),Y
        TAX
        INX
        CLC
        LDA     L00AC
        ADC     #$05
        STA     L00DA
        LDA     L00AD
        ADC     #$00
        STA     L00DB
        SEC
        LDY     #$00
        LDA     (L00AC),Y
        SBC     L033F
        SEC
        SBC     L033C
        STA     L00DF
        INC     L00DF
.LB5F6
        TXA
        PHA
        LDY     L00DF
        LDA     (L00DA),Y
        PHA
        ORA     L00DC
        EOR     L00DC
        STA     L00DE
        LDA     (L00DA),Y
        AND     L00DC
        ORA     L0363
        EOR     L0363
        LSR     A
        ORA     L00DE
        STA     (L00DA),Y
        PLA
        AND     L0363
        LDX     L0361
.LB619
        ASL     A
        DEX
        BNE     LB619

        STA     L00DE
        DEY
        BEQ     LB640

.LB622
        LDA     (L00DA),Y
        PHA
        ORA     L0363
        EOR     L0363
        LSR     A
        ORA     L00DE
        STA     (L00DA),Y
        PLA
        AND     L0363
        LDX     L0361
.LB637
        ASL     A
        DEX
        BNE     LB637

        STA     L00DE
        DEY
        BNE     LB622

.LB640
        LDY     #$00
        SEC
        LDA     L00DA
        ADC     (L00AC),Y
        STA     L00DA
        LDA     L00DB
        ADC     #$00
        STA     L00DB
        PLA
        TAX
        DEX
        BNE     LB5F6

        JMP     LA962

        JSR     LB6D9

        STA     L00DC
        LDY     #$01
        LDA     (L00AC),Y
        TAX
        INX
        CLC
        LDA     L00AC
        ADC     #$06
        STA     L00DA
        LDA     L00AD
        ADC     #$00
        STA     L00DB
        SEC
        LDY     #$00
        LDA     (L00AC),Y
        SBC     L033F
        SEC
        SBC     L033C
        STA     L00DF
.LB67D
        TXA
        PHA
        LDA     #$00
        STA     L00DE
        LDY     L00DF
        BEQ     LB6A9

        LDY     #$00
.LB689
        LDA     (L00DA),Y
        PHA
        ORA     L0362
        EOR     L0362
        ASL     A
        ORA     L00DE
        STA     (L00DA),Y
        PLA
        AND     L0362
        LDX     L0361
.LB69E
        LSR     A
        DEX
        BNE     LB69E

        STA     L00DE
        INY
        CPY     L00DF
        BNE     LB689

.LB6A9
        LDA     (L00DA),Y
        ORA     L00DC
        EOR     L00DC
        ORA     L00DE
        STA     L00DE
        LDA     (L00DA),Y
        AND     L00DC
        ORA     L033E
        EOR     L033E
        ASL     A
        ORA     L00DE
        STA     (L00DA),Y
        LDY     #$00
        SEC
        LDA     L00DA
        ADC     (L00AC),Y
        STA     L00DA
        LDA     L00DB
        ADC     #$00
        STA     L00DB
        PLA
        TAX
        DEX
        BNE     LB67D

        JMP     LA962

.LB6D9
        LDA     L033E
        STA     L00DC
.LB6DE
        ORA     L00DC
        STA     L00DC
        LSR     A
        BCC     LB6DE

        LDA     L00DC
        RTS

.LB6E8
        LDY     #$00
        STY     L00DE
        LDY     L0361
.LB6EF
        ASL     L00DE
        PHA
        AND     L0363
        ORA     L00DE
        STA     L00DE
        PLA
        LSR     A
        DEY
        BPL     LB6EF

        LDA     L00DE
        RTS

        CLC
        LDA     L00AC
        ADC     #$05
        STA     L00DA
        LDA     L00AD
        ADC     #$00
        STA     L00DB
        LDY     #$01
        LDA     (L00AC),Y
        CLC
        ADC     #$01
        TAX
.LB716
        CLC
        LDY     #$00
        LDA     (L00AC),Y
        ADC     #$02
        STA     L00DD
        LSR     A
        STA     L00DC
        INC     L00DD
        LSR     L00DD
.LB726
        LDY     L00DC
        LDA     (L00DA),Y
        JSR     LB6E8

        PHA
        LDY     L00DD
        LDA     (L00DA),Y
        JSR     LB6E8

        LDY     L00DC
        STA     (L00DA),Y
        PLA
        LDY     L00DD
        STA     (L00DA),Y
        INC     L00DD
        DEC     L00DC
        BNE     LB726

        SEC
        LDY     #$00
        LDA     L00DA
        ADC     (L00AC),Y
        STA     L00DA
        BCC     LB751

        INC     L00DB
.LB751
        DEX
        BNE     LB716

        JMP     LA962

        CLC
        LDA     L00AC
        STA     L00DC
        ADC     #$05
        STA     L00DA
        LDA     L00AD
        STA     L00DD
        ADC     #$00
        STA     L00DB
        JSR     LB7FF

        JSR     LB7CE

        CLC
        LDY     #$00
        LDA     L00DC
        SBC     (L00AC),Y
        STA     L00DC
        BCS     LB77B

        DEC     L00DD
.LB77B
        LDY     #$01
        LDA     (L00AC),Y
        BEQ     LB7B4

        CLC
        ADC     #$01
        LSR     A
        TAX
.LB786
        LDY     #$00
        LDA     (L00AC),Y
        TAY
        INY
.LB78C
        LDA     (L00DA),Y
        PHA
        LDA     (L00DC),Y
        STA     (L00DA),Y
        PLA
        STA     (L00DC),Y
        DEY
        BNE     LB78C

        SEC
        LDY     #$00
        LDA     L00DA
        ADC     (L00AC),Y
        STA     L00DA
        BCC     LB7A6

        INC     L00DB
.LB7A6
        CLC
        LDA     L00DC
        SBC     (L00AC),Y
        STA     L00DC
        BCS     LB7B1

        DEC     L00DD
.LB7B1
        DEX
        BNE     LB786

.LB7B4
        JMP     LA962

.LB7B7
        INC     L00DA
        BNE     LB7BD

        INC     L00DB
.LB7BD
        RTS

.LB7BE
        INC     L00DC
        BNE     LB7BD

        INC     L00DD
        RTS

.LB7C5
        LDA     L00DA
        BNE     LB7CB

        DEC     L00DB
.LB7CB
        DEC     L00DA
        RTS

.LB7CE
        LDA     L00DC
        BNE     LB7D4

        DEC     L00DD
.LB7D4
        DEC     L00DC
        RTS

.LB7D7
        PHA
        LDY     #$4E
        LDA     (L00F8),Y
        STA     L00DD
        LDA     #$03
        STA     L00DC
        LDY     #$4B
        LDA     (L00F8),Y
        TAX
        BEQ     LB7F7

.LB7E9
        LDY     #$05
        PLA
        PHA
        CMP     (L00DC),Y
        BEQ     LB7F7

        JSR     LB7FF

        DEX
        BNE     LB7E9

.LB7F7
        PLA
        LDA     L00DC
        LDY     L00DD
        CPX     #$00
        RTS

.LB7FF
        CLC
        LDY     #$02
        LDA     (L00DC),Y
        ADC     L00DC
        PHA
        INY
        LDA     (L00DC),Y
        ADC     L00DD
        STA     L00DD
        PLA
        ADC     #$06
        STA     L00DC
        BCC     LB817

        INC     L00DD
.LB817
        RTS

.LB818
        PHA
        TXA
        PHA
        TYA
        PHA
        LDY     #$4E
        LDA     (L00F8),Y
        STA     L00DD
        LDA     #$03
        STA     L00DC
        LDY     #$4B
        LDA     (L00F8),Y
        BEQ     LB834

        TAX
.LB82E
        JSR     LB7FF

        DEX
        BNE     LB82E

.LB834
        SEC
        LDY     #$4F
        LDA     #$00
        SBC     L00DC
        STA     L00DE
        LDA     (L00F8),Y
        SBC     L00DD
        STA     L00DF
        PLA
        TAY
        PLA
        TAX
        PLA
        RTS

.LB849
        STX     L00F8
        STY     L00F9
        LDY     #$00
.LB84F
        LDA     (L00F8),Y
        CMP     #$20
        BNE     LB85E

        INC     L00F8
        BNE     LB84F

        INC     L00F9
        JMP     LB84F

.LB85E
        LDX     L00F8
        LDY     L00F9
        JMP     L8943

.LB865
        JSR     LB849

        STX     L00F8
        STY     L00F9
        LDY     #$00
        STY     L00DE
        LDA     (L00F8),Y
        SEC
        SBC     #$30
        CMP     #$0A
        BCS     LB8AB

.LB879
        TAX
        ASL     L00DE
        BCS     LB8AB

        LDA     L00DE
        ASL     A
        BCS     LB8AB

        ASL     A
        BCS     LB8AB

        ADC     L00DE
        STA     L00DE
        BCS     LB8AB

        TXA
        ADC     L00DE
        STA     L00DE
        BCS     LB8AB

        INC     L00F8
        BNE     LB899

        INC     L00F9
.LB899
        LDA     (L00F8),Y
        SEC
        SBC     #$30
        CMP     #$0A
        BCC     LB879

        LDA     L00DE
        LDX     L00F8
        LDY     L00F9
        JMP     L8943

.LB8AB
        JSR     generate_error

        EQUS    $89,"Bad number",$00

.LB8BA
        LDA     #$19
        JSR     oswrch

        TXA
        JMP     oswrch

.LB8C3
        LDA     L0344
        JSR     oswrch

        LDA     L0345
        JMP     oswrch

.LB8CF
        LDA     L0346
        JSR     oswrch

        LDA     L0347
        JMP     oswrch

.LB8DB
        LDA     #$12
        JSR     oswrch

        TXA
        JSR     oswrch

        TYA
        JMP     oswrch

.LB8E8
        LDA     #$00
        STA     L00DF
        TYA
        LSR     A
        STA     L00DE
        LDY     #$08
.LB8F2
        BCC     LB8FA

        CLC
        TXA
        ADC     L00DF
        STA     L00DF
.LB8FA
        ROR     L00DF
        ROR     L00DE
        DEY
        BNE     LB8F2

        RTS

.LB902
        JSR     print_inline_counted

        EQUB    $06

        EQUS    $1E,"Mode "

.LB90C
        LDA     L0355
        JSR     LB99E

        JSR     print_inline_counted

        EQUB    $09

        EQUS    $0D,$0A,"Sprite "

.LB91F
        LDY     #$05
        LDA     (L00AC),Y
        JSR     LB99E

        JSR     print_inline_counted

        EQUB    $04

        EQUS    $1F,$0B,$01,"["

.LB92E
        CLC
        LDY     #$00
        LDA     (L00AC),Y
        ADC     #$01
        JSR     LB99E

        LDA     #$2C
        JSR     oswrch

        CLC
        LDY     #$01
        LDA     (L00AC),Y
        ADC     #$01
        JSR     LB99E

        JSR     print_inline_counted

        EQUB    $05

        EQUS    "] ",$1F,$00,$02

.LB950
        LDY     #$49
        LDA     (L00F8),Y
        LSR     A
        BCC     LB95B

        LDA     #$44
        BNE     LB95D

.LB95B
        LDA     #$55
.LB95D
        JSR     oswrch

        JSR     print_inline_counted

        EQUB    $02

        EQUS    " ",$11

.LB966
        CLC
        LDA     L0348
        ADC     #$80
        JSR     oswrch

        JSR     print_inline_counted

        EQUB    $07

        EQUS    " ",$11,$80,$1F,$0B,$02,"("

.LB97A
        CLC
        LDA     L033C
        ADC     L033F
        JSR     LB99E

        LDA     #$2C
        JSR     oswrch

        CLC
        LDA     L033D
        ADC     L0341
        JSR     LB99E

        JSR     print_inline_counted

        EQUB    $06

        EQUS    ")  ",$1F,$00,$04

.LB99D
        RTS

.LB99E
        LDX     #$00
.LB9A0
        LDY     #$00
        STY     L00AA
        STA     L00A8
        STX     L00A9
        ORA     L00A9
        BEQ     LB9C5

        LDX     #$00
.LB9AE
        LDY     #$00
.LB9B0
        INY
        LDA     L00A8
        SEC
        SBC     LB9F4,X
        STA     L00A8
        LDA     L00A9
        SBC     LB9F5,X
        STA     L00A9
        BCC     LB9CC

        JMP     LB9B0

.LB9C5
        TYA
        CLC
        ADC     #$30
        JMP     oswrch

.LB9CC
        LDA     L00A8
        CLC
        ADC     LB9F4,X
        STA     L00A8
        LDA     L00A9
        ADC     LB9F5,X
        STA     L00A9
        DEY
        BNE     LB9E2

        LDA     L00AA
        BEQ     LB9E9

.LB9E2
        LDA     #$FF
        STA     L00AA
        JSR     LB9C5

.LB9E9
        INX
        INX
        TXA
        CMP     #$0A
        BEQ     LB9F3

        JMP     LB9AE

.LB9F3
        RTS

.LB9F4
        EQUB    $10

.LB9F5
        EQUB    $27,$E8,$03,$64,$00,$0A,$00,$01
        EQUB    $00,$20,$CA,$BA,$4C,$07,$BA

.LBA04
        JSR     LBB9B

        LDX     #$34
        LDY     #$3C
        JSR     L902E

        LDX     #$38
        LDA     L0339
        STA     L0343
        LDX     L0338
.LBA19
        STX     L0342
        JSR     LBCD8

        INX
        BNE     LBA25

        INC     L0343
.LBA25
        TXA
        CMP     L0300,Y
        LDA     L0343
        SBC     L0301,Y
        BMI     LBA19

        LDY     L0343
        TXA
        BNE     LBA38

        DEY
.LBA38
        DEX
        STX     L0334
        STY     L0335
        TXA
        CMP     L033A
        TYA
        SBC     L033B
        BPL     LBA79

        LDX     #$36
        LDY     #$3E
        JSR     L902E

        LDY     #$34
        JSR     L902E

        LDA     L033B
        STA     L0343
        LDA     L033A
        TAX
.LBA5F
        STX     L0342
        JSR     LBCD8

        TXA
        BNE     LBA6B

        DEC     L0343
.LBA6B
        DEX
        CLC
        TXA
        SBC     L0300,Y
        LDA     L0343
        SBC     L0301,Y
        BPL     LBA5F

.LBA79
        LDA     L032F
        BPL     LBA04

        JMP     LBA96

        JSR     LBACA

        JMP     LBA8A

.LBA87
        JSR     LBB9B

.LBA8A
        LDX     #$3A
        LDY     #$38
        JSR     LBD43

        LDA     L032F
        BPL     LBA87

.LBA96
        INC     L0C44
        BNE     LBA9E

        INC     L0C45
.LBA9E
        LDX     #$3E
        LDY     #$3C
        JSR     LBD43

        JMP     L8C70

.LBAA8
        PLA
        PLA
        LDA     #$00
        STA     L0C44
        STA     L0C45
        LDX     #$29
        LDY     #$40
        JSR     LBEAF

        LDX     #$29
        LDY     #$44
        JSR     LD3FB

        LDX     #$44
        LDY     #$40
        JSR     LBD43

        JMP     L8C70

.LBACA
        LDY     #$24
        LDX     #$14
        LDA     #$29
        JSR     LBE7F

        LDA     #$00
        STA     L0328
        LDY     #$22
        LDX     #$16
        LDA     #$2E
        JSR     LBE7F

        LDA     L032E
        ORA     L032F
        BEQ     LBAA8

        LDA     #$00
        ROL     A
        STA     L0C38
        LDY     #$20
        LDX     #$14
        LDA     #$2C
        JSR     LBE7F

        LDA     #$00
        STA     L032B
        ROL     A
        EOR     L0C38
        STA     L0C38
        LDX     #$28
        LDY     #$2E
        JSR     LBDE4

        LDX     #$2B
        LDY     #$2E
        JSR     LBDE4

        LDA     L0C38
        BEQ     LBB25

        SEC
        LDY     #$FD
.LBB1A
        LDA     #$00
        SBC     L022E,Y
        STA     L022E,Y
        INY
        BNE     LBB1A

.LBB25
        LDA     L032E
        STA     L0C17
        LDA     L032F
        STA     L0C18
        JSR     L9522

        LDY     #$03
.LBB36
        LDA     L0C1A,Y
        STA     L0330,Y
        DEY
        BPL     LBB36

        LDY     #$0A
        LDA     #$00
.LBB43
        STA     L0C39,Y
        DEY
        BPL     LBB43

        INC     L0C3C
        JSR     LBBCE

        JSR     LBBCE

        LDA     #$00
        STA     L0C44
        STA     L0C45
        LDX     #$3C
        LDY     #$36
        JSR     LBEAF

        LDX     #$3E
        LDY     #$34
        JSR     LBEAF

        LDY     #$3A
        LDX     #$3C
        JSR     L902E

        CPY     #$3A
        BEQ     LBB81

        LDX     #$3C
        LDY     #$3A
        JSR     LD3FB

        LDX     #$36
        LDY     #$38
        JMP     LD3FB

.LBB81
        LDX     #$38
        LDY     #$3E
        JSR     L902E

        CPX     #$38
        BEQ     LBB9A

        LDX     #$3E
        LDY     #$38
        JSR     LD3FB

        LDX     #$34
        LDY     #$3A
        JMP     LD3FB

.LBB9A
        RTS

.LBB9B
        JSR     LBBCE

        LDY     #$3A
        LDX     #$3C
        JSR     L902E

        CPY     #$3A
        BEQ     LBBB6

        LDA     L033C
        STA     L033A
        LDA     L033D
        STA     L033B
        RTS

.LBBB6
        LDX     #$38
        LDY     #$3E
        JSR     L902E

        CPX     #$38
        BEQ     LBBCD

        LDA     L033E
        STA     L0338
        LDA     L033F
        STA     L0339
.LBBCD
        RTS

.LBBCE
        LDX     #$38
        LDY     #$34
        JSR     LD403

        LDX     #$3C
        LDY     #$38
        JSR     LD403

        SEC
        LDA     L0330
        SBC     L0C40
        STA     L0C1C
        LDA     L0331
        SBC     L0C41
        STA     L0C1D
        LDA     L0332
        SBC     L0C42
        STA     L0C1E
        LDA     L0333
        SBC     L0C43
        STA     L0C1F
        LDA     #$00
        STA     L0C1B
        STA     L0C1A
        JSR     LBF12

        LDA     L0328
        STA     L0C1A
        LDA     L0329
        STA     L0C1B
        LDA     L032A
        STA     L0C1C
        JSR     LBEC9

        CLC
        LDA     L0C39
        ADC     L0C1B
        PHP
        LDA     L0C3A
        ADC     L0C1C
        STA     L033E
        LDA     L0C3B
        ADC     L0C1D
        STA     L033F
        PLP
        BPL     LBC46

        INC     L033E
        BNE     LBC46

        INC     L033F
.LBC46
        SEC
        LDA     L0C39
        SBC     L0C1B
        PHP
        LDA     L0C3A
        SBC     L0C1C
        STA     L033C
        LDA     L0C3B
        SBC     L0C1D
        STA     L033D
        PLP
        BPL     LBC6B

        INC     L033C
        BNE     LBC6B

        INC     L033D
.LBC6B
        CLC
        LDA     L0C3C
        ADC     L0C40
        STA     L0C40
        LDA     L0C3D
        ADC     L0C41
        STA     L0C41
        LDA     L0C3E
        ADC     L0C42
        STA     L0C42
        LDA     L0C3F
        ADC     L0C43
        STA     L0C43
        CLC
        LDA     #$02
        ADC     L0C3C
        STA     L0C3C
        BCC     LBCA8

        INC     L0C3D
        BNE     LBCA8

        INC     L0C3E
        BNE     LBCA8

        INC     L0C3F
.LBCA8
        CLC
        LDA     L0C39
        ADC     L032B
        STA     L0C39
        LDA     L0C3A
        ADC     L032C
        STA     L0C3A
        LDA     L0C3B
        ADC     L032D
        STA     L0C3B
        INC     L0C44
        BNE     LBCCC

        INC     L0C45
.LBCCC
        LDA     L032E
        BNE     LBCD4

        DEC     L032F
.LBCD4
        DEC     L032E
        RTS

.LBCD8
        STY     L0C46
        STX     L0C47
        CLC
        LDA     L0314
        ADC     L0342
        STA     L0344
        LDA     L0315
        ADC     L0343
        STA     L0345
        CLC
        LDA     L0316
        ADC     L0C44
        STA     L0346
        LDA     L0317
        ADC     L0C45
        STA     L0347
        LDX     #$44
        JSR     L8B4D

        LDA     L0C44
        ORA     L0C45
        BEQ     LBD3C

        SEC
        LDA     L0314
        SBC     L0342
        STA     L0344
        LDA     L0315
        SBC     L0343
        STA     L0345
        SEC
        LDA     L0316
        SBC     L0C44
        STA     L0346
        LDA     L0317
        SBC     L0C45
        STA     L0347
        LDX     #$44
        JSR     L8B4D

.LBD3C
        LDY     L0C46
        LDX     L0C47
        RTS

.LBD43
        STY     L0C46
        STX     L0C47
        CLC
        LDA     L0314
        ADC     L0300,Y
        STA     L0340
        LDA     L0315
        ADC     L0301,Y
        STA     L0341
        CLC
        LDA     L0314
        ADC     L0300,X
        STA     L0344
        LDA     L0315
        ADC     L0301,X
        STA     L0345
        CLC
        LDA     L0316
        ADC     L0C44
        STA     L0346
        STA     L0342
        LDA     L0317
        ADC     L0C45
        STA     L0347
        STA     L0343
        LDX     #$44
        LDY     #$40
        JSR     L8B3B

        LDA     L0C44
        ORA     L0C45
        BEQ     LBDE3

        LDX     L0C47
        LDY     L0C46
        SEC
        LDA     L0314
        SBC     L0300,X
        STA     L0340
        LDA     L0315
        SBC     L0301,X
        STA     L0341
        SEC
        LDA     L0314
        SBC     L0300,Y
        STA     L0344
        LDA     L0315
        SBC     L0301,Y
        STA     L0345
        SEC
        LDA     L0316
        SBC     L0C44
        STA     L0346
        STA     L0342
        LDA     L0317
        SBC     L0C45
        STA     L0347
        STA     L0343
        LDX     #$44
        LDY     #$40
        JSR     L8B3B

.LBDE3
        RTS

.LBDE4
        STX     L00DE
        LDA     L0300,X
        STA     L0C2C
        LDA     L0301,X
        STA     L0C2D
        LDA     L0302,X
        STA     L0C2E
        LDA     L0300,Y
        STA     L0C30
        LDA     L0301,Y
        STA     L0C31
        LDX     #$08
        LDY     #$10
        LDA     L0C31
        BMI     LBE1D

.LBE0D
        INX
        ASL     L0C30
        ROL     L0C31
        BMI     LBE1D

        DEY
        BNE     LBE0D

        SEC
        JMP     LBE6A

.LBE1D
        LDA     #$00
        STA     L0C2F
        STA     L0C32
        STA     L0C33
        STA     L0C34
.LBE2B
        SEC
        LDA     L0C2C
        SBC     L0C2F
        STA     L0C35
        LDA     L0C2D
        SBC     L0C30
        STA     L0C36
        LDA     L0C2E
        SBC     L0C31
        STA     L0C37
        BCC     LBE54

        LDY     #$02
.LBE4B
        LDA     L0C35,Y
        STA     L0C2C,Y
        DEY
        BPL     LBE4B

.LBE54
        ROL     L0C32
        ROL     L0C33
        ROL     L0C34
        LSR     L0C31
        ROR     L0C30
        ROR     L0C2F
        DEX
        BPL     LBE2B

        CLC
.LBE6A
        LDX     L00DE
        LDA     L0C32
        STA     L0300,X
        LDA     L0C33
        STA     L0301,X
        LDA     L0C34
        STA     L0302,X
        RTS

.LBE7F
        STA     L00DF
        SEC
        LDA     L0300,Y
        SBC     L0300,X
        STA     L00DE
        LDA     L0301,Y
        SBC     L0301,X
        LDX     L00DF
        STA     L0301,X
        ROL     A
        LDA     L00DE
        STA     L0300,X
        BCC     LBEAE

        LDA     #$00
        SBC     L0300,X
        STA     L0300,X
        LDA     #$00
        SBC     L0301,X
        STA     L0301,X
        SEC
.LBEAE
        RTS

.LBEAF
        SEC
        LDA     #$00
        SBC     L0300,X
        STA     L0300,Y
        LDA     #$00
        SBC     L0301,X
        STA     L0301,Y
        RTS

.LBEC1
        LDA     #$00
        STA     L0C1C
        STA     L0C19
.LBEC9
        LSR     L0C1C
        ROR     L0C1B
        ROR     L0C1A
        LDA     #$00
        STA     L0C1F
        STA     L0C1E
        STA     L0C1D
        LDY     #$17
.LBEDF
        BCC     LBEFD

        CLC
        LDA     L0C17
        ADC     L0C1D
        STA     L0C1D
        LDA     L0C18
        ADC     L0C1E
        STA     L0C1E
        LDA     L0C19
        ADC     L0C1F
        STA     L0C1F
.LBEFD
        CLC
        LDX     #$05
.LBF00
        ROR     L0C1A,X
        DEX
        BPL     LBF00

        DEY
        BPL     LBEDF

        RTS

.LBF0A
        LDA     #$00
        STA     L0C1E
        STA     L0C1F
.LBF12
        LDA     #$00
        STA     L0C17
        STA     L0C18
        STA     L0C19
        STA     L0C20
        STA     L0C21
        STA     L0C22
        STA     L0C23
        LDX     #$18
.LBF2B
        ASL     L0C1A
        ROL     L0C1B
        ROL     L0C1C
        ROL     L0C1D
        ROL     L0C1E
        ROL     L0C1F
        ROL     L0C20
        ROL     L0C21
        ROL     L0C22
        ROL     L0C23
        ASL     L0C1A
        ROL     L0C1B
        ROL     L0C1C
        ROL     L0C1D
        ROL     L0C1E
        ROL     L0C1F
        ROL     L0C20
        ROL     L0C21
        ROL     L0C22
        ROL     L0C23
        LDA     L0C17
        ASL     A
        STA     L0C24
        LDA     L0C18
        ROL     A
        STA     L0C25
        LDA     L0C19
        ROL     A
        STA     L0C26
        LDA     #$00
        ROL     A
        STA     L0C27
        SEC
        ROL     L0C24
        ROL     L0C25
        ROL     L0C26
        ROL     L0C27
        SEC
        LDA     L0C20
        SBC     L0C24
        STA     L0C24
        LDA     L0C21
        SBC     L0C25
        STA     L0C25
        LDA     L0C22
        SBC     L0C26
        STA     L0C26
        LDA     L0C23
        SBC     L0C27
        STA     L0C27
        BCC     LBFCB

        STA     L0C23
        LDA     L0C26
        STA     L0C22
        LDA     L0C25
        STA     L0C21
        LDA     L0C24
        STA     L0C20
.LBFCB
        ROL     L0C17
        ROL     L0C18
        ROL     L0C19
        DEX
        BEQ     LBFDA

        JMP     LBF2B

.LBFDA
        RTS

        EQUS    " Richard,Sam,Tutu,Tim,Paul & Sharron "

.BeebDisEndAddr
SAVE "gxr200.bin",BeebDisStartAddr,BeebDisEndAddr

